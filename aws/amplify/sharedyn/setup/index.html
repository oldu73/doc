
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.0.3">
    
    
      
        <title>setup - Doc</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.62128196.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.9204c3b2.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>function __md_scope(e,t,_){return new URL(_||(t===localStorage?"../../../..":"../../../.."),location).pathname+"."+e}function __md_get(e,t=localStorage,_){return JSON.parse(t.getItem(__md_scope(e,t,_)))}function __md_set(e,t,_=localStorage,o){try{_.setItem(__md_scope(e,_,o),JSON.stringify(t))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sharedyn" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Doc" class="md-header__button md-logo" aria-label="Doc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Doc
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              setup
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Doc" class="md-nav__button md-logo" aria-label="Doc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Doc
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Android Studio
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Android Studio" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Android Studio
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../androidstudio/flutter/" class="md-nav__link">
        Android Studio - Flutter
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          AWS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="AWS" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          AWS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1">
          Amplify
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Amplify" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          Amplify
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_1" type="checkbox" id="__nav_3_1_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_1">
          Auth
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Auth" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_1">
          <span class="md-nav__icon md-icon"></span>
          Auth
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../auth/pre%20sign-up/" class="md-nav__link">
        pre sign-up
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_2" type="checkbox" id="__nav_3_1_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_2">
          Env
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Env" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_2">
          <span class="md-nav__icon md-icon"></span>
          Env
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../env/setup/" class="md-nav__link">
        setup
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_3" type="checkbox" id="__nav_3_1_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_3">
          Gen 2
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Gen 2" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_3">
          <span class="md-nav__icon md-icon"></span>
          Gen 2
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_3_1" type="checkbox" id="__nav_3_1_3_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_3_1">
          Next.js
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Next.js" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_3_1">
          <span class="md-nav__icon md-icon"></span>
          Next.js
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Gen%202/Next.js/Pages%20Router/" class="md-nav__link">
        Pages Router
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Gen%202/Next.js/App%20Router%20Client%20Components/" class="md-nav__link">
        App Router Client Components
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_4" type="checkbox" id="__nav_3_1_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_4">
          Msc
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Msc" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_4">
          <span class="md-nav__icon md-icon"></span>
          Msc
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../msc/after%20modifying%20data%20model/" class="md-nav__link">
        after modifying data model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../msc/github/" class="md-nav__link">
        github
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../msc/setup/" class="md-nav__link">
        setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../msc/sign-up-in-out/" class="md-nav__link">
        sign-up-in-out
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_5" type="checkbox" id="__nav_3_1_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_5">
          Sharedyn
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Sharedyn" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_5">
          <span class="md-nav__icon md-icon"></span>
          Sharedyn
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          setup
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        setup
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#create-react-app" class="md-nav__link">
    create react app
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amplify-init" class="md-nav__link">
    amplify init
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amplify-add-api" class="md-nav__link">
    amplify add api
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graphql" class="md-nav__link">
    graphql
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npm-install-amplify" class="md-nav__link">
    npm install amplify
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#indexjs-to-import-amplify" class="md-nav__link">
    index.js to import amplify
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appjs-to-add-authentication-and-display-user-login-information-and-signout-action" class="md-nav__link">
    App.js to add authentication (and display user login information and signOut action)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amplify-update-presignup-function-to-add-user-in-dynamodb-table-sharedynuserdetail" class="md-nav__link">
    amplify update PreSignup function to add user in DynamoDB, table Share&lt;###&gt;DynUser&lt;###&gt;Detail
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-up-your-frontend-dependencies" class="md-nav__link">
    Set up your frontend dependencies
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-and-display-data-records-todos-with-graphql" class="md-nav__link">
    Create and display data records (todos) with GraphQL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fetch-real-time-updates-for-records-todos-with-graphql" class="md-nav__link">
    Fetch real-time updates for records (todos) with GraphQL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fetch-users-from-user-detail-table" class="md-nav__link">
    Fetch users from User Detail table
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#make-data-records-todos-shareable-with-graphql" class="md-nav__link">
    Make data records (todos) shareable with GraphQL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appjs-end-to-end-reference" class="md-nav__link">
    App.js end-to-end reference
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#todo" class="md-nav__link">
    TODO
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    NEXT STEPS
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_2">
          GraphQL
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="GraphQL" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          GraphQL
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../graphql/msc/" class="md-nav__link">
        msc
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_3">
          Msc
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Msc" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Msc
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../msc/csv-mail-to-bi/" class="md-nav__link">
        csv-mail-to-bi
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Confluence
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Confluence" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Confluence
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../confluence/misc/" class="md-nav__link">
        misc
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Docker
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Docker" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Docker
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../docker/1-docker-misc/" class="md-nav__link">
        Docker - 01 - Misc
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../docker/2-docker-basis/" class="md-nav__link">
        Docker - 02 - Basis
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../docker/3-docker-dockerfile/" class="md-nav__link">
        Docker - 03 - Docker File
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../docker/4-docker-dockerhub/" class="md-nav__link">
        Docker - 04 - Docker Hub
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../docker/5-docker-nodeserver/" class="md-nav__link">
        Docker - 05 - Node Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../docker/6-docker-datapersistence/" class="md-nav__link">
        Docker - 06 - Data Persistence
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../docker/7-docker-network/" class="md-nav__link">
        Docker - 07 - Network
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../docker/8-compose-use/" class="md-nav__link">
        Compose - 08 - Use
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../docker/9-compose-dockerfile/" class="md-nav__link">
        Compose - 09 - Dockerfile
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../docker/10-compose-services/" class="md-nav__link">
        Compose - 10 - Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../docker/11-compose-production/" class="md-nav__link">
        Compose - 11 - Production
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          ELK
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="ELK" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          ELK
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_1" type="checkbox" id="__nav_6_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_1">
          ElasticSearch
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="ElasticSearch" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_1">
          <span class="md-nav__icon md-icon"></span>
          ElasticSearch
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../elk/elasticsearch/elasticsearch/" class="md-nav__link">
        ElasticSearch - Misc
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_2" type="checkbox" id="__nav_6_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_2">
          Kibana
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Kibana" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_2">
          <span class="md-nav__icon md-icon"></span>
          Kibana
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../elk/kibana/0-kibana/" class="md-nav__link">
        Kibana - Misc
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../elk/kibana/1-alert/" class="md-nav__link">
        Kibana - Alert
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Git
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Git" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Git
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../git/misc/" class="md-nav__link">
        misc
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Google
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Google" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Google
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_1" type="checkbox" id="__nav_8_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8_1">
          Chrome
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Chrome" data-md-level="2">
        <label class="md-nav__title" for="__nav_8_1">
          <span class="md-nav__icon md-icon"></span>
          Chrome
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../google/chrome/0-misc/" class="md-nav__link">
        0-misc
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../google/chrome/1-devtool/" class="md-nav__link">
        1-devtool
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../google/chrome/2-shortcut/" class="md-nav__link">
        2-shortcut
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          IntelliJ
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="IntelliJ" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          IntelliJ
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../intellij/1-intellij-misc/" class="md-nav__link">
        IntelliJ - 01 - Misc
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../intellij/2-intellij-wsl/" class="md-nav__link">
        IntelliJ - 02 - WSL
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10">
          Java
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Java" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Java
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_1" type="checkbox" id="__nav_10_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10_1">
          test
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="test" data-md-level="2">
        <label class="md-nav__title" for="__nav_10_1">
          <span class="md-nav__icon md-icon"></span>
          test
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../java/test/mock/" class="md-nav__link">
        mock
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11" type="checkbox" id="__nav_11" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11">
          JavaScript
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="JavaScript" data-md-level="1">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          JavaScript
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/misc/" class="md-nav__link">
        misc
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_2" type="checkbox" id="__nav_11_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_2">
          training
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="training" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_2">
          <span class="md-nav__icon md-icon"></span>
          training
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_2_1" type="checkbox" id="__nav_11_2_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_2_1">
          02-environment
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="02-environment" data-md-level="3">
        <label class="md-nav__title" for="__nav_11_2_1">
          <span class="md-nav__icon md-icon"></span>
          02-environment
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/02-environment/06-install-environnement/" class="md-nav__link">
        06-install-environnement
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/02-environment/08-install-babel/" class="md-nav__link">
        08-install-babel
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/02-environment/09-javascript-in-html/" class="md-nav__link">
        09-javascript-in-html
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/02-environment/10-webpack/" class="md-nav__link">
        10-webpack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/02-environment/11-console/" class="md-nav__link">
        11-console
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_2_2" type="checkbox" id="__nav_11_2_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_2_2">
          03-basis
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="03-basis" data-md-level="3">
        <label class="md-nav__title" for="__nav_11_2_2">
          <span class="md-nav__icon md-icon"></span>
          03-basis
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/03-basis/12-intro-and-var/" class="md-nav__link">
        12-intro-and-var
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/03-basis/13-let-and-const/" class="md-nav__link">
        13-let-and-const
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/03-basis/14-hoisting/" class="md-nav__link">
        14-hoisting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/03-basis/15-type/" class="md-nav__link">
        15-type
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/03-basis/16-operator-1/" class="md-nav__link">
        16-operator-1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/03-basis/17-coercion/" class="md-nav__link">
        17-coercion
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/03-basis/18-operator-2/" class="md-nav__link">
        18-operator-2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/03-basis/19-value-and-reference/" class="md-nav__link">
        19-value-and-reference
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_2_3" type="checkbox" id="__nav_11_2_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_2_3">
          04-control
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="04-control" data-md-level="3">
        <label class="md-nav__title" for="__nav_11_2_3">
          <span class="md-nav__icon md-icon"></span>
          04-control
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/04-control/20-condition/" class="md-nav__link">
        20-condition
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/04-control/21-ternary-operator/" class="md-nav__link">
        21-ternary-operator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/04-control/22-switch/" class="md-nav__link">
        22-switch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/04-control/23-for/" class="md-nav__link">
        23-for
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/04-control/24-while/" class="md-nav__link">
        24-while
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_2_4" type="checkbox" id="__nav_11_2_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_2_4">
          05-number
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="05-number" data-md-level="3">
        <label class="md-nav__title" for="__nav_11_2_4">
          <span class="md-nav__icon md-icon"></span>
          05-number
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/05-number/25-introduction/" class="md-nav__link">
        25-introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/05-number/26-decimal/" class="md-nav__link">
        26-decimal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/05-number/27-global-method/" class="md-nav__link">
        27-global-method
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/05-number/28-number-method/" class="md-nav__link">
        28-number-method
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/05-number/29-math-object/" class="md-nav__link">
        29-math-object
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_2_5" type="checkbox" id="__nav_11_2_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_2_5">
          06-string
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="06-string" data-md-level="3">
        <label class="md-nav__title" for="__nav_11_2_5">
          <span class="md-nav__icon md-icon"></span>
          06-string
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/06-string/30-introduction/" class="md-nav__link">
        30-introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/06-string/31-template-literal/" class="md-nav__link">
        31-template-literal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/06-string/32-index-length/" class="md-nav__link">
        32-index-length
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/06-string/33-method/" class="md-nav__link">
        33-method
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/06-string/34-regex/" class="md-nav__link">
        34-regex
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_2_6" type="checkbox" id="__nav_11_2_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_2_6">
          07-object
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="07-object" data-md-level="3">
        <label class="md-nav__title" for="__nav_11_2_6">
          <span class="md-nav__icon md-icon"></span>
          07-object
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/07-object/35-introduction/" class="md-nav__link">
        35-introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/07-object/36-property/" class="md-nav__link">
        36-property
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/07-object/37-syntax-shortcut/" class="md-nav__link">
        37-syntax-shortcut
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/07-object/38-decomposition/" class="md-nav__link">
        38-decomposition
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/07-object/39-test-existence/" class="md-nav__link">
        39-test-existence
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/07-object/40-discard-property/" class="md-nav__link">
        40-discard-property
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/07-object/41-merge/" class="md-nav__link">
        41-merge
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/07-object/42-compare/" class="md-nav__link">
        42-compare
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/07-object/43-iterate/" class="md-nav__link">
        43-iterate
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/07-object/44-json/" class="md-nav__link">
        44-json
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/07-object/45-copy/" class="md-nav__link">
        45-copy
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_2_7" type="checkbox" id="__nav_11_2_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_2_7">
          08-function
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="08-function" data-md-level="3">
        <label class="md-nav__title" for="__nav_11_2_7">
          <span class="md-nav__icon md-icon"></span>
          08-function
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/08-function/46-expression/" class="md-nav__link">
        46-expression
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_2_8" type="checkbox" id="__nav_11_2_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_2_8">
          11-dom
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="11-dom" data-md-level="3">
        <label class="md-nav__title" for="__nav_11_2_8">
          <span class="md-nav__icon md-icon"></span>
          11-dom
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/11-dom/81-css-with-webpack/" class="md-nav__link">
        81-css-with-webpack
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_2_9" type="checkbox" id="__nav_11_2_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_2_9">
          13-project-todo
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="13-project-todo" data-md-level="3">
        <label class="md-nav__title" for="__nav_11_2_9">
          <span class="md-nav__icon md-icon"></span>
          13-project-todo
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/13-project-todo/92-initialization/" class="md-nav__link">
        92-initialization
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_2_10" type="checkbox" id="__nav_11_2_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_2_10">
          14-asynchronous-browser
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="14-asynchronous-browser" data-md-level="3">
        <label class="md-nav__title" for="__nav_11_2_10">
          <span class="md-nav__icon md-icon"></span>
          14-asynchronous-browser
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/14-asynchronous-browser/102-polyfill-webpack/" class="md-nav__link">
        102-polyfill-webpack
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_2_11" type="checkbox" id="__nav_11_2_11" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_2_11">
          16-project-blog
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="16-project-blog" data-md-level="3">
        <label class="md-nav__title" for="__nav_11_2_11">
          <span class="md-nav__icon md-icon"></span>
          16-project-blog
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/16-project-blog/115-introduction/" class="md-nav__link">
        115-introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/16-project-blog/116-multipages-webpack/" class="md-nav__link">
        116-multipages-webpack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/16-project-blog/117-assets-webpack/" class="md-nav__link">
        117-assets-webpack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/16-project-blog/118-styles-setup/" class="md-nav__link">
        118-styles-setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/16-project-blog/119-layout-setup/" class="md-nav__link">
        119-layout-setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/16-project-blog/120-header-footer-setup/" class="md-nav__link">
        120-header-footer-setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/16-project-blog/121-form-create-article/" class="md-nav__link">
        121-form-create-article
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/16-project-blog/122-form-javascript/" class="md-nav__link">
        122-form-javascript
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/16-project-blog/123-send-article/" class="md-nav__link">
        123-send-article
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/16-project-blog/124-articles-list/" class="md-nav__link">
        124-articles-list
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/16-project-blog/125-articles-list-display/" class="md-nav__link">
        125-articles-list-display
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/16-project-blog/126-delete-article/" class="md-nav__link">
        126-delete-article
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/16-project-blog/127-responsive-project/" class="md-nav__link">
        127-responsive-project
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/16-project-blog/aws-01-setup/" class="md-nav__link">
        aws-01-setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/16-project-blog/aws-02-create-item/" class="md-nav__link">
        aws-02-create-item
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/16-project-blog/aws-03-list-item/" class="md-nav__link">
        aws-03-list-item
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/16-project-blog/aws-04-delete-item/" class="md-nav__link">
        aws-04-delete-item
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/16-project-blog/debug/" class="md-nav__link">
        debug
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/16-project-blog/git-branch/" class="md-nav__link">
        git-branch
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_2_12" type="checkbox" id="__nav_11_2_12" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_2_12">
          19-project-blog-p2
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="19-project-blog-p2" data-md-level="3">
        <label class="md-nav__title" for="__nav_11_2_12">
          <span class="md-nav__icon md-icon"></span>
          19-project-blog-p2
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/19-project-blog-p2/137-introduction/" class="md-nav__link">
        137-introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/19-project-blog-p2/138-edit-article/" class="md-nav__link">
        138-edit-article
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/19-project-blog-p2/139-menu-categories-setup/" class="md-nav__link">
        139-menu-categories-setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/19-project-blog-p2/140-menu-categories-dynamic/" class="md-nav__link">
        140-menu-categories-dynamic
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/19-project-blog-p2/141-category-filter/" class="md-nav__link">
        141-category-filter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/19-project-blog-p2/142-sort-by-date/" class="md-nav__link">
        142-sort-by-date
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/19-project-blog-p2/143-modal-setup/" class="md-nav__link">
        143-modal-setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/19-project-blog-p2/144-modal-logic/" class="md-nav__link">
        144-modal-logic
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/19-project-blog-p2/aws-05-get-item/" class="md-nav__link">
        aws-05-get-item
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/19-project-blog-p2/aws-06-update-item/" class="md-nav__link">
        aws-06-update-item
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/19-project-blog-p2/aws-07-sort-api/" class="md-nav__link">
        aws-07-sort-api
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_2_13" type="checkbox" id="__nav_11_2_13" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_2_13">
          22-error-management
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="22-error-management" data-md-level="3">
        <label class="md-nav__title" for="__nav_11_2_13">
          <span class="md-nav__icon md-icon"></span>
          22-error-management
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/22-error-management/162-debugger-devtools/" class="md-nav__link">
        162-debugger-devtools
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../javascript/training/22-error-management/163-debugger-vscode/" class="md-nav__link">
        163-debugger-vscode
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12" type="checkbox" id="__nav_12" >
      
      
      
      
        <label class="md-nav__link" for="__nav_12">
          JMeter
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="JMeter" data-md-level="1">
        <label class="md-nav__title" for="__nav_12">
          <span class="md-nav__icon md-icon"></span>
          JMeter
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../jmeter/1-jmeter-misc/" class="md-nav__link">
        JMeter - 01 - Misc
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_13" type="checkbox" id="__nav_13" >
      
      
      
      
        <label class="md-nav__link" for="__nav_13">
          Kafka
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Kafka" data-md-level="1">
        <label class="md-nav__title" for="__nav_13">
          <span class="md-nav__icon md-icon"></span>
          Kafka
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kafka/1-kafka-misc/" class="md-nav__link">
        Kafka - 01 - Misc
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14" type="checkbox" id="__nav_14" >
      
      
      
      
        <label class="md-nav__link" for="__nav_14">
          Linux
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Linux" data-md-level="1">
        <label class="md-nav__title" for="__nav_14">
          <span class="md-nav__icon md-icon"></span>
          Linux
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../linux/0-linux-debug/" class="md-nav__link">
        Linux - 00 - Debug
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../linux/1-linux-misc/" class="md-nav__link">
        Linux - 01 - Misc
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../linux/2-linux-network/" class="md-nav__link">
        Linux - 02 - Network
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_15" type="checkbox" id="__nav_15" >
      
      
      
      
        <label class="md-nav__link" for="__nav_15">
          Method
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Method" data-md-level="1">
        <label class="md-nav__title" for="__nav_15">
          <span class="md-nav__icon md-icon"></span>
          Method
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_15_1" type="checkbox" id="__nav_15_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_15_1">
          Agile Methodology
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Agile Methodology" data-md-level="2">
        <label class="md-nav__title" for="__nav_15_1">
          <span class="md-nav__icon md-icon"></span>
          Agile Methodology
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../method/agilemethodology/1-agilemethodology-misc/" class="md-nav__link">
        Agile Methodology - 01 - Misc
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_15_2" type="checkbox" id="__nav_15_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_15_2">
          OKR
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="OKR" data-md-level="2">
        <label class="md-nav__title" for="__nav_15_2">
          <span class="md-nav__icon md-icon"></span>
          OKR
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../method/okrmethodology/redaction/" class="md-nav__link">
        OKR - Rdaction
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_15_3" type="checkbox" id="__nav_15_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_15_3">
          Work
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Work" data-md-level="2">
        <label class="md-nav__title" for="__nav_15_3">
          <span class="md-nav__icon md-icon"></span>
          Work
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../method/work/Concentration%20au%20travail/" class="md-nav__link">
        Concentration au travail
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_16" type="checkbox" id="__nav_16" >
      
      
      
      
        <label class="md-nav__link" for="__nav_16">
          Microsoft
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Microsoft" data-md-level="1">
        <label class="md-nav__title" for="__nav_16">
          <span class="md-nav__icon md-icon"></span>
          Microsoft
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_16_1" type="checkbox" id="__nav_16_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_16_1">
          Windows
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Windows" data-md-level="2">
        <label class="md-nav__title" for="__nav_16_1">
          <span class="md-nav__icon md-icon"></span>
          Windows
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../microsoft/windows/1-windows-misc/" class="md-nav__link">
        Windows - 01 - Misc
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../microsoft/windows/2-container/" class="md-nav__link">
        Windows - 02 - Container
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_16_2" type="checkbox" id="__nav_16_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_16_2">
          WSL
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="WSL" data-md-level="2">
        <label class="md-nav__title" for="__nav_16_2">
          <span class="md-nav__icon md-icon"></span>
          WSL
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../microsoft/wsl/1-wsl-misc/" class="md-nav__link">
        WSL - 01 - Misc
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_17" type="checkbox" id="__nav_17" >
      
      
      
      
        <label class="md-nav__link" for="__nav_17">
          Misc
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Misc" data-md-level="1">
        <label class="md-nav__title" for="__nav_17">
          <span class="md-nav__icon md-icon"></span>
          Misc
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../misc/crc/" class="md-nav__link">
        CRC
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_18" type="checkbox" id="__nav_18" >
      
      
      
      
        <label class="md-nav__link" for="__nav_18">
          MkDocs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="MkDocs" data-md-level="1">
        <label class="md-nav__title" for="__nav_18">
          <span class="md-nav__icon md-icon"></span>
          MkDocs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../mkdocs/misc/" class="md-nav__link">
        misc
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_19" type="checkbox" id="__nav_19" >
      
      
      
      
        <label class="md-nav__link" for="__nav_19">
          MongoDB
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="MongoDB" data-md-level="1">
        <label class="md-nav__title" for="__nav_19">
          <span class="md-nav__icon md-icon"></span>
          MongoDB
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../mongodb/mongodb/" class="md-nav__link">
        MongoDB - Misc
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_20" type="checkbox" id="__nav_20" >
      
      
      
      
        <label class="md-nav__link" for="__nav_20">
          Next.js
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Next.js" data-md-level="1">
        <label class="md-nav__title" for="__nav_20">
          <span class="md-nav__icon md-icon"></span>
          Next.js
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../nextjs/misc/" class="md-nav__link">
        Next.js - Misc
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_21" type="checkbox" id="__nav_21" >
      
      
      
      
        <label class="md-nav__link" for="__nav_21">
          Postman
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Postman" data-md-level="1">
        <label class="md-nav__title" for="__nav_21">
          <span class="md-nav__icon md-icon"></span>
          Postman
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../postman/misc/" class="md-nav__link">
        misc
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_22" type="checkbox" id="__nav_22" >
      
      
      
      
        <label class="md-nav__link" for="__nav_22">
          React
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="React" data-md-level="1">
        <label class="md-nav__title" for="__nav_22">
          <span class="md-nav__icon md-icon"></span>
          React
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../react/misc/" class="md-nav__link">
        misc
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_22_2" type="checkbox" id="__nav_22_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_22_2">
          training
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="training" data-md-level="2">
        <label class="md-nav__title" for="__nav_22_2">
          <span class="md-nav__icon md-icon"></span>
          training
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_22_2_1" type="checkbox" id="__nav_22_2_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_22_2_1">
          01-introduction
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="01-introduction" data-md-level="3">
        <label class="md-nav__title" for="__nav_22_2_1">
          <span class="md-nav__icon md-icon"></span>
          01-introduction
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../react/training/01-introduction/05-install-environnement/" class="md-nav__link">
        05-install-environnement
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_22_2_2" type="checkbox" id="__nav_22_2_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_22_2_2">
          02-create-application
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="02-create-application" data-md-level="3">
        <label class="md-nav__title" for="__nav_22_2_2">
          <span class="md-nav__icon md-icon"></span>
          02-create-application
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../react/training/02-create-application/07-use-create-react-app/" class="md-nav__link">
        07-use-create-react-app
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_22_2_3" type="checkbox" id="__nav_22_2_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_22_2_3">
          05-project1-part1
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="05-project1-part1" data-md-level="3">
        <label class="md-nav__title" for="__nav_22_2_3">
          <span class="md-nav__icon md-icon"></span>
          05-project1-part1
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../react/training/05-project1-part1/24-setup-header-footer/" class="md-nav__link">
        24-setup-header-footer
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_22_2_4" type="checkbox" id="__nav_22_2_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_22_2_4">
          06-conditional-rendering-and-list
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="06-conditional-rendering-and-list" data-md-level="3">
        <label class="md-nav__title" for="__nav_22_2_4">
          <span class="md-nav__icon md-icon"></span>
          06-conditional-rendering-and-list
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../react/training/06-conditional-rendering-and-list/27-introduction-and-emmet/" class="md-nav__link">
        27-introduction-and-emmet
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_22_2_5" type="checkbox" id="__nav_22_2_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_22_2_5">
          10-hooks-for-ref
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="10-hooks-for-ref" data-md-level="3">
        <label class="md-nav__title" for="__nav_22_2_5">
          <span class="md-nav__icon md-icon"></span>
          10-hooks-for-ref
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../react/training/10-hooks-for-ref/57-useref-and-dom/" class="md-nav__link">
        57-useref-and-dom
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_23" type="checkbox" id="__nav_23" >
      
      
      
      
        <label class="md-nav__link" for="__nav_23">
          Redis
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Redis" data-md-level="1">
        <label class="md-nav__title" for="__nav_23">
          <span class="md-nav__icon md-icon"></span>
          Redis
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../redis/1-redis-misc/" class="md-nav__link">
        Redis - 01 - Misc
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_24" type="checkbox" id="__nav_24" >
      
      
      
      
        <label class="md-nav__link" for="__nav_24">
          Telematics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Telematics" data-md-level="1">
        <label class="md-nav__title" for="__nav_24">
          <span class="md-nav__icon md-icon"></span>
          Telematics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_24_1" type="checkbox" id="__nav_24_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_24_1">
          Teltonika
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Teltonika" data-md-level="2">
        <label class="md-nav__title" for="__nav_24_1">
          <span class="md-nav__icon md-icon"></span>
          Teltonika
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../telematics/teltonika/misc/" class="md-nav__link">
        misc
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_25" type="checkbox" id="__nav_25" >
      
      
      
      
        <label class="md-nav__link" for="__nav_25">
          Theory
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Theory" data-md-level="1">
        <label class="md-nav__title" for="__nav_25">
          <span class="md-nav__icon md-icon"></span>
          Theory
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../theory/misc/" class="md-nav__link">
        misc
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_26" type="checkbox" id="__nav_26" >
      
      
      
      
        <label class="md-nav__link" for="__nav_26">
          Tool
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tool" data-md-level="1">
        <label class="md-nav__title" for="__nav_26">
          <span class="md-nav__icon md-icon"></span>
          Tool
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tool/autohotkey/" class="md-nav__link">
        AutoHotkey
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_27" type="checkbox" id="__nav_27" >
      
      
      
      
        <label class="md-nav__link" for="__nav_27">
          VS Code
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="VS Code" data-md-level="1">
        <label class="md-nav__title" for="__nav_27">
          <span class="md-nav__icon md-icon"></span>
          VS Code
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../vscode/vscode/" class="md-nav__link">
        VS Code - Misc
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_28" type="checkbox" id="__nav_28" >
      
      
      
      
        <label class="md-nav__link" for="__nav_28">
          Web Design
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Web Design" data-md-level="1">
        <label class="md-nav__title" for="__nav_28">
          <span class="md-nav__icon md-icon"></span>
          Web Design
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../webdesign/misc/" class="md-nav__link">
        misc
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../webdesign/figma/" class="md-nav__link">
        figma
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_29" type="checkbox" id="__nav_29" >
      
      
      
      
        <label class="md-nav__link" for="__nav_29">
          Webstorm
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Webstorm" data-md-level="1">
        <label class="md-nav__title" for="__nav_29">
          <span class="md-nav__icon md-icon"></span>
          Webstorm
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../webstorm/misc/" class="md-nav__link">
        misc
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#create-react-app" class="md-nav__link">
    create react app
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amplify-init" class="md-nav__link">
    amplify init
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amplify-add-api" class="md-nav__link">
    amplify add api
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graphql" class="md-nav__link">
    graphql
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npm-install-amplify" class="md-nav__link">
    npm install amplify
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#indexjs-to-import-amplify" class="md-nav__link">
    index.js to import amplify
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appjs-to-add-authentication-and-display-user-login-information-and-signout-action" class="md-nav__link">
    App.js to add authentication (and display user login information and signOut action)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amplify-update-presignup-function-to-add-user-in-dynamodb-table-sharedynuserdetail" class="md-nav__link">
    amplify update PreSignup function to add user in DynamoDB, table Share&lt;###&gt;DynUser&lt;###&gt;Detail
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-up-your-frontend-dependencies" class="md-nav__link">
    Set up your frontend dependencies
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-and-display-data-records-todos-with-graphql" class="md-nav__link">
    Create and display data records (todos) with GraphQL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fetch-real-time-updates-for-records-todos-with-graphql" class="md-nav__link">
    Fetch real-time updates for records (todos) with GraphQL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fetch-users-from-user-detail-table" class="md-nav__link">
    Fetch users from User Detail table
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#make-data-records-todos-shareable-with-graphql" class="md-nav__link">
    Make data records (todos) shareable with GraphQL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appjs-end-to-end-reference" class="md-nav__link">
    App.js end-to-end reference
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#todo" class="md-nav__link">
    TODO
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    NEXT STEPS
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                

<h1 id="sharedyn">share&lt;###&gt;dyn</h1>
<p>Share Dyn is an application for sharing todos in real time between users.</p>
<p>In addition to the basic tutorial, we prepare the application with the User Detail table to be able to share with full user names, short name or short unique identifier (nano ID) rather than Cognito user UUIDs for the interface with the user, even if in the end it is indeed the Cognito UUID which will prevail.</p>
<p>Current version <a href="https://github.com/oldu73/share003dyn">share003dyn</a></p>
<hr />
<p>app mix of <a href="https://github.com/oldu73/share-todo">sharetodo</a> + <a href="https://github.com/oldu73/dynapp">dynapp</a> = sharedyn</p>
<p>From sources:</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=Ti0Nc_FHZLo">Automatically Create a Dynamo DB Record from a Cognito User Pool | Amazon Web Services</a>  </li>
<li><a href="https://aws.amazon.com/fr/blogs/mobile/build-real-time-multi-user-experiences-using-graphql-on-aws-amplify/">Build real-time multi-user experiences using GraphQL on AWS Amplify</a></li>
</ul>
<p><a href="https://docs.amplify.aws/start/q/integration/react/">aws amplify react tutorial</a></p>
<p>Remark: - Amplify choices in console, when not specified = default choice e.g. y/N, hit enter means "No".</p>
<hr />
<h2 id="create-react-app">create react app</h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="go">npx create-react-app share&lt;###&gt;dyn</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="go">cd share&lt;###&gt;dyn</span>
</code></pre></div>
<h2 id="amplify-init">amplify init</h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="go">amplify init</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="go">? Initialize the project with the above configuration? No</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="go">..</span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="go">? Choose your default editor: IntelliJ IDEA</span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="go">..</span>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="go">? Select the authentication method you want to use: AWS profile // for aws region</span>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="go">? Please choose the profile you want to use amplify-dev // region = N. Virginia (cheapest)</span>
</code></pre></div>
<p>Check in aws console web app that project has correctly been set up in the right region.</p>
<p>Click on <code>Set up Amplify Studio</code>.</p>
<h2 id="amplify-add-api">amplify add api</h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="go">amplify add api</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="go">? Select from one of the below mentioned services: GraphQL</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="go">? Here is the GraphQL API that we will create. Select a setting to edit or continue Authorization modes: API key (default, expiration tim</span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="go">e: 7 days from now)</span>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="go">? Choose the default authorization type for the API Amazon Cognito User Pool</span>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="go">Using service: Cognito, provided by: awscloudformation</span>
<a id="__codelineno-2-7" name="__codelineno-2-7"></a>
<a id="__codelineno-2-8" name="__codelineno-2-8"></a><span class="go"> The current configured provider is Amazon Cognito.</span>
<a id="__codelineno-2-9" name="__codelineno-2-9"></a>
<a id="__codelineno-2-10" name="__codelineno-2-10"></a><span class="go"> Do you want to use the default authentication and security configuration? Manual configuration</span>
<a id="__codelineno-2-11" name="__codelineno-2-11"></a><span class="go"> Select the authentication/authorization services that you want to use: User Sign-Up, Sign-In, connected with AWS IAM controls (Enables p</span>
<a id="__codelineno-2-12" name="__codelineno-2-12"></a><span class="go">er-user Storage features for images or other content, Analytics, and more)</span>
<a id="__codelineno-2-13" name="__codelineno-2-13"></a><span class="go"> Provide a friendly name for your resource that will be used to label this category in the project: share001dynf027ea0ff027ea0f</span>
<a id="__codelineno-2-14" name="__codelineno-2-14"></a><span class="go"> Enter a name for your identity pool. share001dynf027ea0f_identitypool_f027ea0f</span>
<a id="__codelineno-2-15" name="__codelineno-2-15"></a><span class="go"> Allow unauthenticated logins? (Provides scoped down permissions that you can control via AWS IAM) No</span>
<a id="__codelineno-2-16" name="__codelineno-2-16"></a><span class="go"> Do you want to enable 3rd party authentication providers in your identity pool? No</span>
<a id="__codelineno-2-17" name="__codelineno-2-17"></a><span class="go"> Provide a name for your user pool: share001dynf027ea0f_userpool_f027ea0f</span>
<a id="__codelineno-2-18" name="__codelineno-2-18"></a><span class="go"> Warning: you will not be able to edit these selections.</span>
<a id="__codelineno-2-19" name="__codelineno-2-19"></a><span class="go"> How do you want users to be able to sign in? Email</span>
<a id="__codelineno-2-20" name="__codelineno-2-20"></a><span class="go"> Do you want to add User Pool Groups? Yes</span>
<a id="__codelineno-2-21" name="__codelineno-2-21"></a><span class="go">? Provide a name for your user pool group: authenticated</span>
<a id="__codelineno-2-22" name="__codelineno-2-22"></a><span class="go">? Do you want to add another User Pool Group No</span>
<a id="__codelineno-2-23" name="__codelineno-2-23"></a><span class="go"> Sort the user pool groups in order of preference  authenticated</span>
<a id="__codelineno-2-24" name="__codelineno-2-24"></a><span class="go"> Do you want to add an admin queries API? No</span>
<a id="__codelineno-2-25" name="__codelineno-2-25"></a><span class="go"> Multifactor authentication (MFA) user login options: OFF</span>
<a id="__codelineno-2-26" name="__codelineno-2-26"></a><span class="go"> Email based user registration/forgot password: Enabled (Requires per-user email entry at registration)</span>
<a id="__codelineno-2-27" name="__codelineno-2-27"></a><span class="go"> Specify an email verification subject: Your verification code</span>
<a id="__codelineno-2-28" name="__codelineno-2-28"></a><span class="go"> Specify an email verification message: Your verification code is {####}</span>
<a id="__codelineno-2-29" name="__codelineno-2-29"></a><span class="go"> Do you want to override the default password policy for this User Pool? Yes</span>
<a id="__codelineno-2-30" name="__codelineno-2-30"></a><span class="go"> Enter the minimum password length for this User Pool: 8</span>
<a id="__codelineno-2-31" name="__codelineno-2-31"></a><span class="go"> Select the password character requirements for your userpool:</span>
<a id="__codelineno-2-32" name="__codelineno-2-32"></a><span class="go"> Warning: you will not be able to edit these selections.</span>
<a id="__codelineno-2-33" name="__codelineno-2-33"></a><span class="go"> What attributes are required for signing up? Email, Name</span>
<a id="__codelineno-2-34" name="__codelineno-2-34"></a><span class="go"> Specify the app&#39;s refresh token expiration period (in days): 30</span>
<a id="__codelineno-2-35" name="__codelineno-2-35"></a><span class="go"> Do you want to specify the user attributes this app can read and write? No</span>
<a id="__codelineno-2-36" name="__codelineno-2-36"></a><span class="go"> Do you want to enable any of the following capabilities?</span>
<a id="__codelineno-2-37" name="__codelineno-2-37"></a><span class="go"> Do you want to use an OAuth flow? No</span>
<a id="__codelineno-2-38" name="__codelineno-2-38"></a><span class="go">? Do you want to configure Lambda Triggers for Cognito? Yes</span>
<a id="__codelineno-2-39" name="__codelineno-2-39"></a><span class="go">? Which triggers do you want to enable for Cognito Post Confirmation</span>
<a id="__codelineno-2-40" name="__codelineno-2-40"></a><span class="go">? What functionality do you want to use for Post Confirmation Add User To Group, Create your own module</span>
<a id="__codelineno-2-41" name="__codelineno-2-41"></a><span class="go"> Enter the name of the group to which users will be added.  authenticated</span>
<a id="__codelineno-2-42" name="__codelineno-2-42"></a><span class="go"> Successfully added resource share002dyndd303979dd303979PostConfirmation locally.</span>
<a id="__codelineno-2-43" name="__codelineno-2-43"></a>
<a id="__codelineno-2-44" name="__codelineno-2-44"></a><span class="go"> Next steps:</span>
<a id="__codelineno-2-45" name="__codelineno-2-45"></a><span class="go">Check out sample function code generated in &lt;project-dir&gt;/amplify/backend/function/share002dyndd303979dd303979PostConfirmation/src</span>
<a id="__codelineno-2-46" name="__codelineno-2-46"></a><span class="go">&quot;amplify function build&quot; builds all of your functions currently in the project</span>
<a id="__codelineno-2-47" name="__codelineno-2-47"></a><span class="go">&quot;amplify mock function &lt;functionName&gt;&quot; runs your function locally</span>
<a id="__codelineno-2-48" name="__codelineno-2-48"></a><span class="go">To access AWS resources outside of this Amplify app, edit the C:\git\aws\share002dyn\amplify\backend\function\share002dyndd303979dd303979PostConfirmation\custom-policies.json</span>
<a id="__codelineno-2-49" name="__codelineno-2-49"></a><span class="go">&quot;amplify push&quot; builds all of your local backend resources and provisions them in the cloud</span>
<a id="__codelineno-2-50" name="__codelineno-2-50"></a><span class="go">&quot;amplify publish&quot; builds all of your local backend and front-end resources (if you added hosting category) and provisions them in the cloud</span>
<a id="__codelineno-2-51" name="__codelineno-2-51"></a><span class="go">Successfully added the Lambda function locally</span>
<a id="__codelineno-2-52" name="__codelineno-2-52"></a><span class="go">? Do you want to edit your add-to-group function now? No</span>
<a id="__codelineno-2-53" name="__codelineno-2-53"></a><span class="go">? Do you want to edit your custom function now? No</span>
<a id="__codelineno-2-54" name="__codelineno-2-54"></a><span class="go"> Successfully added auth resource share002dyndd303979dd303979 locally</span>
<a id="__codelineno-2-55" name="__codelineno-2-55"></a>
<a id="__codelineno-2-56" name="__codelineno-2-56"></a><span class="go"> Some next steps:</span>
<a id="__codelineno-2-57" name="__codelineno-2-57"></a><span class="go">&quot;amplify push&quot; will build all your local backend resources and provision it in the cloud</span>
<a id="__codelineno-2-58" name="__codelineno-2-58"></a><span class="go">&quot;amplify publish&quot; will build all your local backend and frontend resources (if you have hosting category added) and provision it in the cloud</span>
<a id="__codelineno-2-59" name="__codelineno-2-59"></a>
<a id="__codelineno-2-60" name="__codelineno-2-60"></a><span class="go">? Configure additional auth types? No</span>
<a id="__codelineno-2-61" name="__codelineno-2-61"></a><span class="go">? Here is the GraphQL API that we will create. Select a setting to edit or continue Continue</span>
<a id="__codelineno-2-62" name="__codelineno-2-62"></a><span class="go">? Choose a schema template: Single object with fields (e.g., Todo with ID, name, description)</span>
<a id="__codelineno-2-63" name="__codelineno-2-63"></a>
<a id="__codelineno-2-64" name="__codelineno-2-64"></a><span class="go">  WARNING: Some types do not have authorization rules configured. That means all create, read, update, and delete operations are denied on these types:</span>
<a id="__codelineno-2-65" name="__codelineno-2-65"></a><span class="go">         - Todo</span>
<a id="__codelineno-2-66" name="__codelineno-2-66"></a><span class="go">Learn more about &quot;@auth&quot; authorization rules here: https://docs.amplify.aws/cli/graphql/authorization-rules</span>
<a id="__codelineno-2-67" name="__codelineno-2-67"></a><span class="go"> GraphQL schema compiled successfully.</span>
<a id="__codelineno-2-68" name="__codelineno-2-68"></a>
<a id="__codelineno-2-69" name="__codelineno-2-69"></a><span class="go">Edit your schema at C:\git\aws\share002dyn\amplify\backend\api\share002dyn\schema.graphql or place .graphql files in a directory at C:\git\aws\share002dyn\amplify\backend\api\share002dyn\schema</span>
<a id="__codelineno-2-70" name="__codelineno-2-70"></a><span class="go"> Do you want to edit the schema now? (Y/n)  no</span>
<a id="__codelineno-2-71" name="__codelineno-2-71"></a><span class="go"> Successfully added resource share002dyn locally</span>
<a id="__codelineno-2-72" name="__codelineno-2-72"></a>
<a id="__codelineno-2-73" name="__codelineno-2-73"></a><span class="go"> Some next steps:</span>
<a id="__codelineno-2-74" name="__codelineno-2-74"></a><span class="go">&quot;amplify push&quot; will build all your local backend resources and provision it in the cloud</span>
<a id="__codelineno-2-75" name="__codelineno-2-75"></a><span class="go">&quot;amplify publish&quot; will build all your local backend and frontend resources (if you have hosting category added) and provision it in the cloud</span>
</code></pre></div>
<p>!! Warning!! With this setup, password is only 8 characters with no special restrictions to enhance security, !don't let it like this in production environment!</p>
<h2 id="graphql">graphql</h2>
<p>Open project in IDE and edit graphql schema in file <code>amplify/backend/api/sharedyn/schema.graphql</code> as follow:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a>type Share&lt;###&gt;DynTo&lt;###&gt;Do
<a id="__codelineno-3-2" name="__codelineno-3-2"></a>@model # Creates a DynamoDB table
<a id="__codelineno-3-3" name="__codelineno-3-3"></a>@auth(rules: [{ allow: owner, ownerField: &quot;owners&quot;}]) # Sets up owner-based authorization
<a id="__codelineno-3-4" name="__codelineno-3-4"></a>{
<a id="__codelineno-3-5" name="__codelineno-3-5"></a>  id: ID!
<a id="__codelineno-3-6" name="__codelineno-3-6"></a>  content: String
<a id="__codelineno-3-7" name="__codelineno-3-7"></a>  owners: [String] # Use a String array type to configure multi-owner authorization
<a id="__codelineno-3-8" name="__codelineno-3-8"></a>}
<a id="__codelineno-3-9" name="__codelineno-3-9"></a>
<a id="__codelineno-3-10" name="__codelineno-3-10"></a>type Share&lt;###&gt;DynUser&lt;###&gt;Detail
<a id="__codelineno-3-11" name="__codelineno-3-11"></a>@model
<a id="__codelineno-3-12" name="__codelineno-3-12"></a>@auth(rules: [{ allow: groups, groups: [&quot;authenticated&quot;] }])
<a id="__codelineno-3-13" name="__codelineno-3-13"></a>{
<a id="__codelineno-3-14" name="__codelineno-3-14"></a>  id: ID!
<a id="__codelineno-3-15" name="__codelineno-3-15"></a>  name: String!
<a id="__codelineno-3-16" name="__codelineno-3-16"></a>  shortName: String!
<a id="__codelineno-3-17" name="__codelineno-3-17"></a>  uid: String!
<a id="__codelineno-3-18" name="__codelineno-3-18"></a>}
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="go">cd function share&lt;###&gt;dyn&lt;id&gt;PostConfirmation &#39;src&#39; folder and run &#39;npm install&#39;</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="go">cd project&#39;s root folder</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="go">amplify push</span>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="gp gp-VirtualEnv">(.. all default answers)</span>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="go">? Do you want to generate code for your newly created GraphQL API Yes</span>
<a id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="go">? Choose the code generation language target javascript</span>
<a id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="go">? Enter the file name pattern of graphql queries, mutations and subscriptions src\graphql\**\*.js</span>
<a id="__codelineno-4-8" name="__codelineno-4-8"></a><span class="go">? Do you want to generate/update all possible GraphQL operations - queries, mutations and subscriptions Yes</span>
<a id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="go">? Enter maximum statement depth [increase from default if your schema is deeply nested] 2</span>
</code></pre></div>
<p>Remark: - If something has change in the cloud, then, on local, pull latest is needed, like for e.g.:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="go">amplify pull --appId &lt;id&gt; --envName dev</span>
</code></pre></div>
<p>Check in Amplify Studio - Data, that everything has been correctly deployed in the cloud.</p>
<h2 id="npm-install-amplify">npm install amplify</h2>
<p>In a command prompt (project's root folder), install npm amplify packages:</p>
<ul>
<li><a href="https://www.npmjs.com/package/aws-amplify">aws-amplify</a> AWS Amplify is a JavaScript library for frontend and mobile developers building cloud-enabled applications.</li>
<li><a href="https://www.npmjs.com/package/@aws-amplify/ui-react">@aws-amplify/ui-react</a> Amplify UI is an open-source UI library with cloud-connected components that are endlessly customizable, accessible, and can integrate into any application.</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="go">npm install aws-amplify @aws-amplify/ui-react</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="go">npm start</span>
</code></pre></div>
<h2 id="indexjs-to-import-amplify">index.js to import amplify</h2>
<p>Edit <code>index.js</code> file in <code>src</code> folder to add import for amplify:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="k">import</span> <span class="p">..</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="p">..</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="k">import</span> <span class="p">{</span> <span class="nx">Amplify</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&quot;aws-amplify&quot;</span><span class="p">;</span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="k">import</span> <span class="nx">awsconfig</span> <span class="kr">from</span> <span class="s2">&quot;./aws-exports&quot;</span><span class="p">;</span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="nx">Amplify</span><span class="p">.</span><span class="nx">configure</span><span class="p">(</span><span class="nx">awsconfig</span><span class="p">);</span>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="p">..</span>
<a id="__codelineno-7-8" name="__codelineno-7-8"></a><span class="kd">const</span> <span class="nx">root</span> <span class="p">..</span>
</code></pre></div>
<h2 id="appjs-to-add-authentication-and-display-user-login-information-and-signout-action">App.js to add authentication (and display user login information and signOut action)</h2>
<p>Edit <code>App.js</code> file in <code>src</code> folder to add authentication to the application, to show whos logged and give user the ability to log out.</p>
<p>Replace the contents of App.js with the following code:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="k">import</span> <span class="s1">&#39;./App.css&#39;</span><span class="p">;</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="k">import</span> <span class="p">{</span><span class="nx">Amplify</span><span class="p">}</span> <span class="kr">from</span> <span class="s2">&quot;aws-amplify&quot;</span><span class="p">;</span>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="k">import</span> <span class="nx">awsconfig</span> <span class="kr">from</span> <span class="s2">&quot;./aws-exports&quot;</span><span class="p">;</span>
<a id="__codelineno-8-5" name="__codelineno-8-5"></a>
<a id="__codelineno-8-6" name="__codelineno-8-6"></a><span class="k">import</span> <span class="s2">&quot;@aws-amplify/ui-react/styles.css&quot;</span><span class="p">;</span>
<a id="__codelineno-8-7" name="__codelineno-8-7"></a><span class="k">import</span> <span class="p">{</span><span class="nx">withAuthenticator</span><span class="p">,</span> <span class="nx">Text</span><span class="p">,</span> <span class="nx">Flex</span><span class="p">,</span> <span class="nx">View</span><span class="p">,</span> <span class="nx">Badge</span><span class="p">,</span> <span class="nx">Button</span><span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@aws-amplify/ui-react&#39;</span><span class="p">;</span>
<a id="__codelineno-8-8" name="__codelineno-8-8"></a>
<a id="__codelineno-8-9" name="__codelineno-8-9"></a><span class="nx">Amplify</span><span class="p">.</span><span class="nx">configure</span><span class="p">(</span><span class="nx">awsconfig</span><span class="p">);</span>
<a id="__codelineno-8-10" name="__codelineno-8-10"></a>
<a id="__codelineno-8-11" name="__codelineno-8-11"></a><span class="kd">function</span> <span class="nx">App</span><span class="p">({</span><span class="nx">user</span><span class="p">,</span> <span class="nx">signOut</span><span class="p">})</span> <span class="p">{</span>
<a id="__codelineno-8-12" name="__codelineno-8-12"></a>  <span class="c1">// console.log(user);</span>
<a id="__codelineno-8-13" name="__codelineno-8-13"></a>  <span class="k">return</span> <span class="p">(</span>
<a id="__codelineno-8-14" name="__codelineno-8-14"></a>    <span class="o">&lt;</span><span class="nx">Flex</span> <span class="nx">direction</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;column&quot;</span><span class="p">}</span> <span class="nx">padding</span><span class="o">=</span><span class="p">{</span><span class="mf">8</span><span class="p">}</span><span class="o">&gt;</span>
<a id="__codelineno-8-15" name="__codelineno-8-15"></a>      <span class="o">&lt;</span><span class="nx">Text</span><span class="o">&gt;</span><span class="nx">Logged</span> <span class="ow">in</span> <span class="kr">as</span> <span class="o">&lt;</span><span class="nx">b</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">user</span><span class="p">.</span><span class="nx">signInDetails</span><span class="p">.</span><span class="nx">loginId</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/b&gt; &lt;Button variation=&#39;link&#39; onClick={signOut}&gt;Sign out&lt;/Button&gt;&lt;/Text&gt;</span>
<a id="__codelineno-8-16" name="__codelineno-8-16"></a>    <span class="o">&lt;</span><span class="err">/Flex&gt;</span>
<a id="__codelineno-8-17" name="__codelineno-8-17"></a>  <span class="p">);</span>
<a id="__codelineno-8-18" name="__codelineno-8-18"></a><span class="p">}</span>
<a id="__codelineno-8-19" name="__codelineno-8-19"></a>
<a id="__codelineno-8-20" name="__codelineno-8-20"></a><span class="k">export</span> <span class="k">default</span> <span class="nx">withAuthenticator</span><span class="p">(</span><span class="nx">App</span><span class="p">);</span>
</code></pre></div>
<p>Test sign-up, in, out and then delete user</p>
<h2 id="amplify-update-presignup-function-to-add-user-in-dynamodb-table-sharedynuserdetail">amplify update PreSignup function to add user in DynamoDB, table Share&lt;###&gt;DynUser&lt;###&gt;Detail</h2>
<p>Retrieve your Lambda (e.g. from Cognito) for PostConfirmation, share&lt;###&gt;dyn&lt;id>PostConfirmation-&lt;stage></p>
<p>Click on Configuration tab, then Permissions and click on role.</p>
<p>In role, click on Add permissions, select Create inline policy.</p>
<p>Choose service as DynamoDB.</p>
<p>Check Read, GetItem and Write, PutItem</p>
<p>Resources, Specific click on ARN and paste the one from your DynamoDB table Share&lt;###&gt;DynUser&lt;###&gt;Detail-&lt;id>-&lt;stage></p>
<p>Click next and give policy a name like Dynamo&lt;###&gt;Policy and then click on Create policy.</p>
<p>In your IDE edit custom.js of your PostConfirmation lambda function with code below:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="cm">/**</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="cm"> * @type {import(&#39;@types/aws-lambda&#39;).APIGatewayProxyHandler}</span>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="cm"> */</span>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a>
<a id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="kd">const</span> <span class="nx">AWS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;aws-sdk&quot;</span><span class="p">);</span>
<a id="__codelineno-9-6" name="__codelineno-9-6"></a>
<a id="__codelineno-9-7" name="__codelineno-9-7"></a><span class="nx">AWS</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">update</span><span class="p">({</span><span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;us-east-1&quot;</span><span class="p">});</span>
<a id="__codelineno-9-8" name="__codelineno-9-8"></a>
<a id="__codelineno-9-9" name="__codelineno-9-9"></a><span class="nx">exports</span><span class="p">.</span><span class="nx">handler</span> <span class="o">=</span> <span class="k">async</span> <span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-9-10" name="__codelineno-9-10"></a>  <span class="kd">const</span> <span class="nx">documentClient</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">AWS</span><span class="p">.</span><span class="nx">DynamoDB</span><span class="p">.</span><span class="nx">DocumentClient</span><span class="p">({</span><span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;us-east-1&quot;</span><span class="p">});</span>
<a id="__codelineno-9-11" name="__codelineno-9-11"></a>  <span class="kd">const</span> <span class="p">{</span> <span class="nx">customAlphabet</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="k">import</span><span class="p">(</span><span class="s2">&quot;nanoid&quot;</span><span class="p">);</span>
<a id="__codelineno-9-12" name="__codelineno-9-12"></a>  <span class="kd">const</span> <span class="nx">nanoid</span> <span class="o">=</span> <span class="nx">customAlphabet</span><span class="p">(</span><span class="s1">&#39;0123456789abcdefghijklmnopqrstuvwxyz&#39;</span><span class="p">,</span> <span class="mf">6</span><span class="p">);</span>
<a id="__codelineno-9-13" name="__codelineno-9-13"></a>
<a id="__codelineno-9-14" name="__codelineno-9-14"></a>  <span class="c1">// console.log(event);</span>
<a id="__codelineno-9-15" name="__codelineno-9-15"></a>
<a id="__codelineno-9-16" name="__codelineno-9-16"></a>  <span class="kd">let</span> <span class="nx">uid</span> <span class="o">=</span> <span class="nx">nanoid</span><span class="p">();</span>
<a id="__codelineno-9-17" name="__codelineno-9-17"></a>  <span class="kd">let</span> <span class="nx">date</span> <span class="o">=</span> <span class="ow">new</span> <span class="nb">Date</span><span class="p">();</span>
<a id="__codelineno-9-18" name="__codelineno-9-18"></a>
<a id="__codelineno-9-19" name="__codelineno-9-19"></a>  <span class="kd">const</span> <span class="nx">params</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-9-20" name="__codelineno-9-20"></a>    <span class="nx">TableName</span><span class="o">:</span> <span class="s2">&quot;Share&lt;###&gt;DynUser&lt;###&gt;Detail-&lt;id&gt;-&lt;stage&gt;&quot;</span><span class="p">,</span>
<a id="__codelineno-9-21" name="__codelineno-9-21"></a>    <span class="nx">Item</span><span class="o">:</span> <span class="p">{</span>
<a id="__codelineno-9-22" name="__codelineno-9-22"></a>      <span class="nx">id</span><span class="o">:</span> <span class="nx">event</span><span class="p">.</span><span class="nx">request</span><span class="p">.</span><span class="nx">userAttributes</span><span class="p">.</span><span class="nx">sub</span><span class="p">,</span>
<a id="__codelineno-9-23" name="__codelineno-9-23"></a>      <span class="nx">createdAt</span><span class="o">:</span> <span class="nx">date</span><span class="p">.</span><span class="nx">toISOString</span><span class="p">(),</span>
<a id="__codelineno-9-24" name="__codelineno-9-24"></a>      <span class="nx">updatedAt</span><span class="o">:</span> <span class="nx">date</span><span class="p">.</span><span class="nx">toISOString</span><span class="p">(),</span>
<a id="__codelineno-9-25" name="__codelineno-9-25"></a>      <span class="nx">__typename</span><span class="o">:</span> <span class="s2">&quot;Share&lt;###&gt;DynUser&lt;###&gt;Detail&quot;</span><span class="p">,</span>
<a id="__codelineno-9-26" name="__codelineno-9-26"></a>      <span class="nx">name</span><span class="o">:</span> <span class="nx">event</span><span class="p">.</span><span class="nx">request</span><span class="p">.</span><span class="nx">userAttributes</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span>
<a id="__codelineno-9-27" name="__codelineno-9-27"></a>      <span class="nx">shortName</span><span class="o">:</span> <span class="nx">calculateShortName</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">request</span><span class="p">.</span><span class="nx">userAttributes</span><span class="p">.</span><span class="nx">name</span><span class="p">),</span>
<a id="__codelineno-9-28" name="__codelineno-9-28"></a>      <span class="nx">uid</span><span class="o">:</span> <span class="nx">uid</span><span class="p">,</span>
<a id="__codelineno-9-29" name="__codelineno-9-29"></a>    <span class="p">}</span>
<a id="__codelineno-9-30" name="__codelineno-9-30"></a>  <span class="p">};</span>
<a id="__codelineno-9-31" name="__codelineno-9-31"></a>
<a id="__codelineno-9-32" name="__codelineno-9-32"></a>  <span class="k">try</span> <span class="p">{</span>
<a id="__codelineno-9-33" name="__codelineno-9-33"></a>    <span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">documentClient</span><span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="nx">params</span><span class="p">).</span><span class="nx">promise</span><span class="p">();</span>
<a id="__codelineno-9-34" name="__codelineno-9-34"></a>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<a id="__codelineno-9-35" name="__codelineno-9-35"></a>  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-9-36" name="__codelineno-9-36"></a>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<a id="__codelineno-9-37" name="__codelineno-9-37"></a>  <span class="p">}</span>
<a id="__codelineno-9-38" name="__codelineno-9-38"></a>
<a id="__codelineno-9-39" name="__codelineno-9-39"></a>  <span class="k">return</span> <span class="nx">event</span><span class="p">;</span>
<a id="__codelineno-9-40" name="__codelineno-9-40"></a><span class="p">};</span>
<a id="__codelineno-9-41" name="__codelineno-9-41"></a>
<a id="__codelineno-9-42" name="__codelineno-9-42"></a><span class="kd">function</span> <span class="nx">calculateShortName</span><span class="p">(</span><span class="nx">fullName</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-9-43" name="__codelineno-9-43"></a>  <span class="c1">// Convert the full name to lowercase</span>
<a id="__codelineno-9-44" name="__codelineno-9-44"></a>  <span class="kd">const</span> <span class="nx">lowerCaseName</span> <span class="o">=</span> <span class="nx">fullName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span>
<a id="__codelineno-9-45" name="__codelineno-9-45"></a>
<a id="__codelineno-9-46" name="__codelineno-9-46"></a>  <span class="c1">// Extract the first two letters</span>
<a id="__codelineno-9-47" name="__codelineno-9-47"></a>  <span class="kd">const</span> <span class="nx">firstTwoLetters</span> <span class="o">=</span> <span class="nx">lowerCaseName</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">2</span><span class="p">);</span>
<a id="__codelineno-9-48" name="__codelineno-9-48"></a>
<a id="__codelineno-9-49" name="__codelineno-9-49"></a>  <span class="c1">// Find the index of the first space</span>
<a id="__codelineno-9-50" name="__codelineno-9-50"></a>  <span class="kd">const</span> <span class="nx">firstSpaceIndex</span> <span class="o">=</span> <span class="nx">lowerCaseName</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">);</span>
<a id="__codelineno-9-51" name="__codelineno-9-51"></a>
<a id="__codelineno-9-52" name="__codelineno-9-52"></a>  <span class="c1">// Extract the next two letters after the first space</span>
<a id="__codelineno-9-53" name="__codelineno-9-53"></a>  <span class="kd">const</span> <span class="nx">nextTwoLetters</span> <span class="o">=</span> <span class="nx">lowerCaseName</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">firstSpaceIndex</span> <span class="o">+</span> <span class="mf">1</span><span class="p">,</span> <span class="nx">firstSpaceIndex</span> <span class="o">+</span> <span class="mf">3</span><span class="p">);</span>
<a id="__codelineno-9-54" name="__codelineno-9-54"></a>
<a id="__codelineno-9-55" name="__codelineno-9-55"></a>  <span class="c1">// Concatenate the results to get the shortName</span>
<a id="__codelineno-9-56" name="__codelineno-9-56"></a>  <span class="kd">const</span> <span class="nx">shortName</span> <span class="o">=</span> <span class="nx">firstTwoLetters</span> <span class="o">+</span> <span class="nx">nextTwoLetters</span><span class="p">;</span>
<a id="__codelineno-9-57" name="__codelineno-9-57"></a>
<a id="__codelineno-9-58" name="__codelineno-9-58"></a>  <span class="k">return</span> <span class="nx">shortName</span><span class="p">;</span>
<a id="__codelineno-9-59" name="__codelineno-9-59"></a><span class="p">}</span>
</code></pre></div>
<p>cd src folder of PostConfirmation function:</p>
<ul>
<li>npm install aws-sdk nanoid  </li>
<li>amplify push</li>
</ul>
<h2 id="set-up-your-frontend-dependencies">Set up your frontend dependencies</h2>
<p>Next, well need to configure your React app to be aware of the Amplify-generated backend and configure a basic Amplify UI theme to make the UI components look great.</p>
<p>Replace your <code>index.js</code> file with the following code, which imports the Amplify libraries and connects them to the backend configuration (stored in aws-exports.js).
In addition, its configuring the default Amplify UI theme (the imported styles.css file and <a href="https://ui.docs.amplify.aws/react/theming"><ThemeProvider /></a> for your <App /> component).</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="k">import</span> <span class="nx">React</span> <span class="kr">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="k">import</span> <span class="nx">ReactDOM</span> <span class="kr">from</span> <span class="s1">&#39;react-dom/client&#39;</span><span class="p">;</span>
<a id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="k">import</span> <span class="s1">&#39;./index.css&#39;</span><span class="p">;</span>
<a id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="k">import</span> <span class="nx">App</span> <span class="kr">from</span> <span class="s1">&#39;./App&#39;</span><span class="p">;</span>
<a id="__codelineno-10-5" name="__codelineno-10-5"></a><span class="k">import</span> <span class="nx">reportWebVitals</span> <span class="kr">from</span> <span class="s1">&#39;./reportWebVitals&#39;</span><span class="p">;</span>
<a id="__codelineno-10-6" name="__codelineno-10-6"></a><span class="k">import</span> <span class="p">{</span> <span class="nx">ThemeProvider</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@aws-amplify/ui-react&#39;</span><span class="p">;</span>
<a id="__codelineno-10-7" name="__codelineno-10-7"></a><span class="k">import</span> <span class="s1">&#39;@aws-amplify/ui-react/styles.css&#39;</span><span class="p">;</span>
<a id="__codelineno-10-8" name="__codelineno-10-8"></a><span class="k">import</span> <span class="p">{</span> <span class="nx">Amplify</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;aws-amplify&#39;</span>
<a id="__codelineno-10-9" name="__codelineno-10-9"></a><span class="k">import</span> <span class="nx">awsconfig</span> <span class="kr">from</span> <span class="s1">&#39;./aws-exports&#39;</span>
<a id="__codelineno-10-10" name="__codelineno-10-10"></a>
<a id="__codelineno-10-11" name="__codelineno-10-11"></a><span class="nx">Amplify</span><span class="p">.</span><span class="nx">configure</span><span class="p">(</span><span class="nx">awsconfig</span><span class="p">)</span>
<a id="__codelineno-10-12" name="__codelineno-10-12"></a>
<a id="__codelineno-10-13" name="__codelineno-10-13"></a><span class="kd">const</span> <span class="nx">root</span> <span class="o">=</span> <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">createRoot</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;root&#39;</span><span class="p">));</span>
<a id="__codelineno-10-14" name="__codelineno-10-14"></a><span class="nx">root</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
<a id="__codelineno-10-15" name="__codelineno-10-15"></a>  <span class="o">&lt;</span><span class="nx">ThemeProvider</span><span class="o">&gt;</span>
<a id="__codelineno-10-16" name="__codelineno-10-16"></a>    <span class="o">&lt;</span><span class="nx">App</span> <span class="o">/&gt;</span>
<a id="__codelineno-10-17" name="__codelineno-10-17"></a>  <span class="o">&lt;</span><span class="err">/ThemeProvider&gt;</span>
<a id="__codelineno-10-18" name="__codelineno-10-18"></a><span class="p">);</span>
<a id="__codelineno-10-19" name="__codelineno-10-19"></a>
<a id="__codelineno-10-20" name="__codelineno-10-20"></a><span class="c1">// If you want to start measuring performance in your app, pass a function</span>
<a id="__codelineno-10-21" name="__codelineno-10-21"></a><span class="c1">// to log results (for example: reportWebVitals(console.log))</span>
<a id="__codelineno-10-22" name="__codelineno-10-22"></a><span class="c1">// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals</span>
<a id="__codelineno-10-23" name="__codelineno-10-23"></a><span class="nx">reportWebVitals</span><span class="p">();</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="go">npm start</span>
</code></pre></div>
<p>Test sign-up, check user is created in Cognito, added in authenticated group and added to User Detail table, sign-in, sign-out and then delete user:</p>
<ul>
<li><a href="https://localhost:3000/">Open </a> in a standard browser window to set up the first user.  </li>
<li><a href="https://localhost:3000/">Open </a> in a private window to set up the second user.</li>
</ul>
<h2 id="create-and-display-data-records-todos-with-graphql">Create and display data records (todos) with GraphQL</h2>
<p><a href="https://github.com/aws-amplify/amplify-js/issues/12635#:~:text=Hi%20%40greg%2Dmunro,our%20documentation.">aws-amplify with the latest version (6.x.x) released, we no longer export the API class, but instead have a generateClient()</a>
<a href="https://docs.amplify.aws/react/build-a-backend/graphqlapi/set-up-graphql-api/#add-your-first-record">Set up Amplify GraphQL API, Add your first record</a></p>
<p>Lets first add a button to the app to create a new todo (content from trusty window.prompt). Import the Amplify librarys API category and createTodo GraphQL mutation in the App.js file (replace all in App.js with code below):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="k">import</span> <span class="s1">&#39;./App.css&#39;</span><span class="p">;</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a>
<a id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="k">import</span> <span class="p">{</span><span class="nx">Amplify</span><span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;aws-amplify&#39;</span><span class="p">;</span>
<a id="__codelineno-12-4" name="__codelineno-12-4"></a><span class="k">import</span> <span class="p">{</span><span class="nx">generateClient</span><span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;aws-amplify/api&#39;</span><span class="p">;</span>
<a id="__codelineno-12-5" name="__codelineno-12-5"></a><span class="k">import</span> <span class="p">{</span><span class="nx">createShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./graphql/mutations&#39;</span><span class="p">;</span>
<a id="__codelineno-12-6" name="__codelineno-12-6"></a><span class="k">import</span> <span class="nx">config</span> <span class="kr">from</span> <span class="s1">&#39;./amplifyconfiguration.json&#39;</span><span class="p">;</span>
<a id="__codelineno-12-7" name="__codelineno-12-7"></a>
<a id="__codelineno-12-8" name="__codelineno-12-8"></a><span class="k">import</span> <span class="s2">&quot;@aws-amplify/ui-react/styles.css&quot;</span><span class="p">;</span>
<a id="__codelineno-12-9" name="__codelineno-12-9"></a><span class="k">import</span> <span class="p">{</span><span class="nx">withAuthenticator</span><span class="p">,</span> <span class="nx">Text</span><span class="p">,</span> <span class="nx">Flex</span><span class="p">,</span> <span class="nx">View</span><span class="p">,</span> <span class="nx">Badge</span><span class="p">,</span> <span class="nx">Button</span><span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@aws-amplify/ui-react&#39;</span><span class="p">;</span>
<a id="__codelineno-12-10" name="__codelineno-12-10"></a>
<a id="__codelineno-12-11" name="__codelineno-12-11"></a><span class="nx">Amplify</span><span class="p">.</span><span class="nx">configure</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>
<a id="__codelineno-12-12" name="__codelineno-12-12"></a>
<a id="__codelineno-12-13" name="__codelineno-12-13"></a><span class="kd">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">generateClient</span><span class="p">();</span>
<a id="__codelineno-12-14" name="__codelineno-12-14"></a>
<a id="__codelineno-12-15" name="__codelineno-12-15"></a><span class="kd">function</span> <span class="nx">App</span><span class="p">({</span><span class="nx">user</span><span class="p">,</span> <span class="nx">signOut</span><span class="p">})</span> <span class="p">{</span>
<a id="__codelineno-12-16" name="__codelineno-12-16"></a>  <span class="c1">// console.log(user);</span>
<a id="__codelineno-12-17" name="__codelineno-12-17"></a>  <span class="k">return</span> <span class="p">(</span>
<a id="__codelineno-12-18" name="__codelineno-12-18"></a>    <span class="o">&lt;</span><span class="nx">Flex</span> <span class="nx">direction</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;column&quot;</span><span class="p">}</span> <span class="nx">padding</span><span class="o">=</span><span class="p">{</span><span class="mf">8</span><span class="p">}</span><span class="o">&gt;</span>
<a id="__codelineno-12-19" name="__codelineno-12-19"></a>      <span class="o">&lt;</span><span class="nx">Text</span><span class="o">&gt;</span><span class="nx">Logged</span> <span class="ow">in</span> <span class="kr">as</span> <span class="o">&lt;</span><span class="nx">b</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">user</span><span class="p">.</span><span class="nx">signInDetails</span><span class="p">.</span><span class="nx">loginId</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/b&gt; &lt;Button variation=&#39;link&#39; onClick={signOut}&gt;Sign</span>
<a id="__codelineno-12-20" name="__codelineno-12-20"></a>        <span class="nx">out</span><span class="o">&lt;</span><span class="err">/Button&gt;&lt;/Text&gt;</span>
<a id="__codelineno-12-21" name="__codelineno-12-21"></a>      <span class="o">&lt;</span><span class="nx">Button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-12-22" name="__codelineno-12-22"></a>        <span class="nx">client</span><span class="p">.</span><span class="nx">graphql</span><span class="p">({</span>
<a id="__codelineno-12-23" name="__codelineno-12-23"></a>          <span class="nx">query</span><span class="o">:</span> <span class="nx">createShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">,</span>
<a id="__codelineno-12-24" name="__codelineno-12-24"></a>          <span class="nx">variables</span><span class="o">:</span> <span class="p">{</span>
<a id="__codelineno-12-25" name="__codelineno-12-25"></a>            <span class="nx">input</span><span class="o">:</span> <span class="p">{</span>
<a id="__codelineno-12-26" name="__codelineno-12-26"></a>              <span class="nx">content</span><span class="o">:</span> <span class="nb">window</span><span class="p">.</span><span class="nx">prompt</span><span class="p">(</span><span class="s1">&#39;content?&#39;</span><span class="p">),</span>
<a id="__codelineno-12-27" name="__codelineno-12-27"></a>            <span class="p">}</span>
<a id="__codelineno-12-28" name="__codelineno-12-28"></a>          <span class="p">}</span>
<a id="__codelineno-12-29" name="__codelineno-12-29"></a>        <span class="p">});</span>
<a id="__codelineno-12-30" name="__codelineno-12-30"></a>      <span class="p">}}</span><span class="o">&gt;</span><span class="nx">Add</span> <span class="nx">todo</span>
<a id="__codelineno-12-31" name="__codelineno-12-31"></a>      <span class="o">&lt;</span><span class="err">/Button&gt;</span>
<a id="__codelineno-12-32" name="__codelineno-12-32"></a>    <span class="o">&lt;</span><span class="err">/Flex&gt;</span>
<a id="__codelineno-12-33" name="__codelineno-12-33"></a>  <span class="p">);</span>
<a id="__codelineno-12-34" name="__codelineno-12-34"></a><span class="p">}</span>
<a id="__codelineno-12-35" name="__codelineno-12-35"></a>
<a id="__codelineno-12-36" name="__codelineno-12-36"></a><span class="k">export</span> <span class="k">default</span> <span class="nx">withAuthenticator</span><span class="p">(</span><span class="nx">App</span><span class="p">);</span>
</code></pre></div>
<p>Important: Remember when you configured Amazon Cognito User Pool earlier as the authorization mode earlier?</p>
<p>Amplify API will automatically now add your Amazon Cognito users username to the record as an owner because Amazon Cognito User Pool is the default authorization mode AND owner-based authorization is configured.</p>
<p>Next, lets display your todos. Import the listTodos GraphQL queries from your src/graphql folder and the required React hooks:</p>
<p>Still in App.js:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="k">import</span> <span class="p">{</span><span class="nx">listShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Dos</span><span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./graphql/queries&#39;</span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="k">import</span> <span class="p">{</span><span class="nx">useState</span><span class="p">,</span> <span class="nx">useEffect</span><span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;react&#39;</span>
</code></pre></div>
<p>Then, we need to fetch these todos when the App renders and display them. Create a state to store the todos and a useEffect to fetch the todos:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="p">..</span>
<a id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="kd">function</span> <span class="nx">App</span><span class="p">({</span><span class="nx">user</span><span class="p">,</span> <span class="nx">signOut</span><span class="p">})</span> <span class="p">{</span>
<a id="__codelineno-14-3" name="__codelineno-14-3"></a>  <span class="p">..</span>
<a id="__codelineno-14-4" name="__codelineno-14-4"></a>
<a id="__codelineno-14-5" name="__codelineno-14-5"></a>  <span class="kd">const</span> <span class="p">[</span><span class="nx">todos</span><span class="p">,</span> <span class="nx">setTodos</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">([])</span>
<a id="__codelineno-14-6" name="__codelineno-14-6"></a>
<a id="__codelineno-14-7" name="__codelineno-14-7"></a>  <span class="nx">useEffect</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-14-8" name="__codelineno-14-8"></a>    <span class="kd">const</span> <span class="nx">fetchTodos</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-14-9" name="__codelineno-14-9"></a>      <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">graphql</span><span class="p">({</span> <span class="nx">query</span><span class="o">:</span> <span class="nx">listShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Dos</span> <span class="p">});</span>
<a id="__codelineno-14-10" name="__codelineno-14-10"></a>      <span class="c1">// console.log(result);</span>
<a id="__codelineno-14-11" name="__codelineno-14-11"></a>      <span class="nx">setTodos</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">listShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Dos</span><span class="p">.</span><span class="nx">items</span><span class="p">)</span>
<a id="__codelineno-14-12" name="__codelineno-14-12"></a>    <span class="p">}</span>
<a id="__codelineno-14-13" name="__codelineno-14-13"></a>
<a id="__codelineno-14-14" name="__codelineno-14-14"></a>    <span class="nx">fetchTodos</span><span class="p">()</span>
<a id="__codelineno-14-15" name="__codelineno-14-15"></a>  <span class="p">},</span> <span class="p">[])</span>
<a id="__codelineno-14-16" name="__codelineno-14-16"></a>
<a id="__codelineno-14-17" name="__codelineno-14-17"></a>  <span class="k">return</span> <span class="p">(</span>
<a id="__codelineno-14-18" name="__codelineno-14-18"></a>    <span class="p">..</span>
<a id="__codelineno-14-19" name="__codelineno-14-19"></a>  <span class="p">);</span>
<a id="__codelineno-14-20" name="__codelineno-14-20"></a><span class="p">}</span>
<a id="__codelineno-14-21" name="__codelineno-14-21"></a><span class="p">..</span>
</code></pre></div>
<p>Next, display the fetched todos in the return statement of the App component. Add the following React code right below the Add Todo button component code:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="p">{</span><span class="nx">todos</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">todo</span> <span class="p">=&gt;</span> <span class="o">&lt;</span><span class="nx">Flex</span> <span class="nx">direction</span><span class="o">=</span><span class="s2">&quot;column&quot;</span> <span class="nx">border</span><span class="o">=</span><span class="s2">&quot;1px solid black&quot;</span> <span class="nx">padding</span><span class="o">=</span><span class="p">{</span><span class="mf">8</span><span class="p">}</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">todo</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="o">&gt;</span>
<a id="__codelineno-15-2" name="__codelineno-15-2"></a>    <span class="o">&lt;</span><span class="nx">Text</span> <span class="nx">fontWeight</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;bold&#39;</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">todo</span><span class="p">.</span><span class="nx">content</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/Text&gt;</span>
<a id="__codelineno-15-3" name="__codelineno-15-3"></a>    <span class="o">&lt;</span><span class="nx">View</span><span class="o">&gt;</span><span class="err"></span> <span class="p">{</span><span class="nx">todo</span><span class="p">.</span><span class="nx">owners</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">owner</span> <span class="p">=&gt;</span> <span class="o">&lt;</span><span class="nx">Badge</span> <span class="nx">margin</span><span class="o">=</span><span class="p">{</span><span class="mf">4</span><span class="p">}</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">owner</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">owner</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/Badge&gt;)}&lt;/View&gt;</span>
<a id="__codelineno-15-4" name="__codelineno-15-4"></a><span class="o">&lt;</span><span class="err">/Flex&gt;)}</span>
</code></pre></div>
<p>You should now be able to add new todos and upon refresh of the app see them listed. Try it out in your browser and go ahead and add a few to-dos and then refresh the page.</p>
<p>Now that weve got a few todos added, we also need the ability to delete them. Import the the deleteTodo GraphQL mutation and lets add a button to delete a todo within each todo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="k">import</span> <span class="p">{</span><span class="nx">createShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">,</span> <span class="nx">deleteShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./graphql/mutations&#39;</span><span class="p">;</span>
</code></pre></div>
<p>Now lets add a delete button below the View component that displays all the to-do owners (inside {todos.map..}). (Well get to the owners in a bit!):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="o">&lt;</span><span class="nx">Button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">async</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-17-2" name="__codelineno-17-2"></a>  <span class="nx">client</span><span class="p">.</span><span class="nx">graphql</span><span class="p">({</span>
<a id="__codelineno-17-3" name="__codelineno-17-3"></a>    <span class="nx">query</span><span class="o">:</span> <span class="nx">deleteShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">,</span>
<a id="__codelineno-17-4" name="__codelineno-17-4"></a>    <span class="nx">variables</span><span class="o">:</span> <span class="p">{</span>
<a id="__codelineno-17-5" name="__codelineno-17-5"></a>      <span class="nx">input</span><span class="o">:</span> <span class="p">{</span>
<a id="__codelineno-17-6" name="__codelineno-17-6"></a>        <span class="nx">id</span><span class="o">:</span> <span class="nx">todo</span><span class="p">.</span><span class="nx">id</span>
<a id="__codelineno-17-7" name="__codelineno-17-7"></a>      <span class="p">}</span>
<a id="__codelineno-17-8" name="__codelineno-17-8"></a>    <span class="p">}</span>
<a id="__codelineno-17-9" name="__codelineno-17-9"></a>  <span class="p">})</span>
<a id="__codelineno-17-10" name="__codelineno-17-10"></a><span class="p">}}</span><span class="o">&gt;</span><span class="nx">Delete</span><span class="o">&lt;</span><span class="err">/Button&gt;</span>
</code></pre></div>
<p>Your App.js file should look something like this:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a><span class="k">import</span> <span class="s1">&#39;./App.css&#39;</span><span class="p">;</span>
<a id="__codelineno-18-2" name="__codelineno-18-2"></a>
<a id="__codelineno-18-3" name="__codelineno-18-3"></a><span class="k">import</span> <span class="p">{</span><span class="nx">Amplify</span><span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;aws-amplify&#39;</span><span class="p">;</span>
<a id="__codelineno-18-4" name="__codelineno-18-4"></a><span class="k">import</span> <span class="p">{</span><span class="nx">generateClient</span><span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;aws-amplify/api&#39;</span><span class="p">;</span>
<a id="__codelineno-18-5" name="__codelineno-18-5"></a><span class="k">import</span> <span class="p">{</span><span class="nx">createShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">,</span> <span class="nx">deleteShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./graphql/mutations&#39;</span><span class="p">;</span>
<a id="__codelineno-18-6" name="__codelineno-18-6"></a><span class="k">import</span> <span class="p">{</span><span class="nx">listShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Dos</span><span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./graphql/queries&#39;</span><span class="p">;</span>
<a id="__codelineno-18-7" name="__codelineno-18-7"></a><span class="k">import</span> <span class="p">{</span><span class="nx">useState</span><span class="p">,</span> <span class="nx">useEffect</span><span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<a id="__codelineno-18-8" name="__codelineno-18-8"></a><span class="k">import</span> <span class="nx">config</span> <span class="kr">from</span> <span class="s1">&#39;./amplifyconfiguration.json&#39;</span><span class="p">;</span>
<a id="__codelineno-18-9" name="__codelineno-18-9"></a>
<a id="__codelineno-18-10" name="__codelineno-18-10"></a><span class="k">import</span> <span class="s2">&quot;@aws-amplify/ui-react/styles.css&quot;</span><span class="p">;</span>
<a id="__codelineno-18-11" name="__codelineno-18-11"></a><span class="k">import</span> <span class="p">{</span><span class="nx">withAuthenticator</span><span class="p">,</span> <span class="nx">Text</span><span class="p">,</span> <span class="nx">Flex</span><span class="p">,</span> <span class="nx">View</span><span class="p">,</span> <span class="nx">Badge</span><span class="p">,</span> <span class="nx">Button</span><span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@aws-amplify/ui-react&#39;</span><span class="p">;</span>
<a id="__codelineno-18-12" name="__codelineno-18-12"></a>
<a id="__codelineno-18-13" name="__codelineno-18-13"></a><span class="nx">Amplify</span><span class="p">.</span><span class="nx">configure</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>
<a id="__codelineno-18-14" name="__codelineno-18-14"></a>
<a id="__codelineno-18-15" name="__codelineno-18-15"></a><span class="kd">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">generateClient</span><span class="p">();</span>
<a id="__codelineno-18-16" name="__codelineno-18-16"></a>
<a id="__codelineno-18-17" name="__codelineno-18-17"></a><span class="kd">function</span> <span class="nx">App</span><span class="p">({</span><span class="nx">user</span><span class="p">,</span> <span class="nx">signOut</span><span class="p">})</span> <span class="p">{</span>
<a id="__codelineno-18-18" name="__codelineno-18-18"></a>  <span class="c1">// console.log(user);</span>
<a id="__codelineno-18-19" name="__codelineno-18-19"></a>
<a id="__codelineno-18-20" name="__codelineno-18-20"></a>  <span class="kd">const</span> <span class="p">[</span><span class="nx">todos</span><span class="p">,</span> <span class="nx">setTodos</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">([])</span>
<a id="__codelineno-18-21" name="__codelineno-18-21"></a>
<a id="__codelineno-18-22" name="__codelineno-18-22"></a>  <span class="nx">useEffect</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-18-23" name="__codelineno-18-23"></a>    <span class="kd">const</span> <span class="nx">fetchTodos</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-18-24" name="__codelineno-18-24"></a>      <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">graphql</span><span class="p">({</span><span class="nx">query</span><span class="o">:</span> <span class="nx">listShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Dos</span><span class="p">});</span>
<a id="__codelineno-18-25" name="__codelineno-18-25"></a>      <span class="c1">// console.log(result);</span>
<a id="__codelineno-18-26" name="__codelineno-18-26"></a>      <span class="nx">setTodos</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">listShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Dos</span><span class="p">.</span><span class="nx">items</span><span class="p">)</span>
<a id="__codelineno-18-27" name="__codelineno-18-27"></a>    <span class="p">}</span>
<a id="__codelineno-18-28" name="__codelineno-18-28"></a>
<a id="__codelineno-18-29" name="__codelineno-18-29"></a>    <span class="nx">fetchTodos</span><span class="p">()</span>
<a id="__codelineno-18-30" name="__codelineno-18-30"></a>  <span class="p">},</span> <span class="p">[])</span>
<a id="__codelineno-18-31" name="__codelineno-18-31"></a>
<a id="__codelineno-18-32" name="__codelineno-18-32"></a>  <span class="k">return</span> <span class="p">(</span>
<a id="__codelineno-18-33" name="__codelineno-18-33"></a>    <span class="o">&lt;</span><span class="nx">Flex</span> <span class="nx">direction</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;column&quot;</span><span class="p">}</span> <span class="nx">padding</span><span class="o">=</span><span class="p">{</span><span class="mf">8</span><span class="p">}</span><span class="o">&gt;</span>
<a id="__codelineno-18-34" name="__codelineno-18-34"></a>      <span class="o">&lt;</span><span class="nx">Text</span><span class="o">&gt;</span><span class="nx">Logged</span> <span class="ow">in</span> <span class="kr">as</span> <span class="o">&lt;</span><span class="nx">b</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">user</span><span class="p">.</span><span class="nx">signInDetails</span><span class="p">.</span><span class="nx">loginId</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/b&gt; &lt;Button variation=&#39;link&#39; onClick={signOut}&gt;Sign</span>
<a id="__codelineno-18-35" name="__codelineno-18-35"></a>        <span class="nx">out</span><span class="o">&lt;</span><span class="err">/Button&gt;&lt;/Text&gt;</span>
<a id="__codelineno-18-36" name="__codelineno-18-36"></a>      <span class="o">&lt;</span><span class="nx">Button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-18-37" name="__codelineno-18-37"></a>        <span class="nx">client</span><span class="p">.</span><span class="nx">graphql</span><span class="p">({</span>
<a id="__codelineno-18-38" name="__codelineno-18-38"></a>          <span class="nx">query</span><span class="o">:</span> <span class="nx">createShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">,</span>
<a id="__codelineno-18-39" name="__codelineno-18-39"></a>          <span class="nx">variables</span><span class="o">:</span> <span class="p">{</span>
<a id="__codelineno-18-40" name="__codelineno-18-40"></a>            <span class="nx">input</span><span class="o">:</span> <span class="p">{</span>
<a id="__codelineno-18-41" name="__codelineno-18-41"></a>              <span class="nx">content</span><span class="o">:</span> <span class="nb">window</span><span class="p">.</span><span class="nx">prompt</span><span class="p">(</span><span class="s1">&#39;content?&#39;</span><span class="p">),</span>
<a id="__codelineno-18-42" name="__codelineno-18-42"></a>            <span class="p">}</span>
<a id="__codelineno-18-43" name="__codelineno-18-43"></a>          <span class="p">}</span>
<a id="__codelineno-18-44" name="__codelineno-18-44"></a>        <span class="p">});</span>
<a id="__codelineno-18-45" name="__codelineno-18-45"></a>      <span class="p">}}</span><span class="o">&gt;</span><span class="nx">Add</span> <span class="nx">todo</span>
<a id="__codelineno-18-46" name="__codelineno-18-46"></a>      <span class="o">&lt;</span><span class="err">/Button&gt;</span>
<a id="__codelineno-18-47" name="__codelineno-18-47"></a>      <span class="p">{</span><span class="nx">todos</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">todo</span> <span class="p">=&gt;</span> <span class="o">&lt;</span><span class="nx">Flex</span> <span class="nx">direction</span><span class="o">=</span><span class="s2">&quot;column&quot;</span> <span class="nx">border</span><span class="o">=</span><span class="s2">&quot;1px solid black&quot;</span> <span class="nx">padding</span><span class="o">=</span><span class="p">{</span><span class="mf">8</span><span class="p">}</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">todo</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="o">&gt;</span>
<a id="__codelineno-18-48" name="__codelineno-18-48"></a>        <span class="o">&lt;</span><span class="nx">Text</span> <span class="nx">fontWeight</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;bold&#39;</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">todo</span><span class="p">.</span><span class="nx">content</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/Text&gt;</span>
<a id="__codelineno-18-49" name="__codelineno-18-49"></a>        <span class="o">&lt;</span><span class="nx">View</span><span class="o">&gt;</span><span class="err"></span> <span class="p">{</span><span class="nx">todo</span><span class="p">.</span><span class="nx">owners</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">owner</span> <span class="p">=&gt;</span> <span class="o">&lt;</span><span class="nx">Badge</span> <span class="nx">margin</span><span class="o">=</span><span class="p">{</span><span class="mf">4</span><span class="p">}</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">owner</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">owner</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/Badge&gt;)}&lt;/View&gt;</span>
<a id="__codelineno-18-50" name="__codelineno-18-50"></a>        <span class="o">&lt;</span><span class="nx">Button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">async</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-18-51" name="__codelineno-18-51"></a>          <span class="nx">client</span><span class="p">.</span><span class="nx">graphql</span><span class="p">({</span>
<a id="__codelineno-18-52" name="__codelineno-18-52"></a>            <span class="nx">query</span><span class="o">:</span> <span class="nx">deleteShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">,</span>
<a id="__codelineno-18-53" name="__codelineno-18-53"></a>            <span class="nx">variables</span><span class="o">:</span> <span class="p">{</span>
<a id="__codelineno-18-54" name="__codelineno-18-54"></a>              <span class="nx">input</span><span class="o">:</span> <span class="p">{</span>
<a id="__codelineno-18-55" name="__codelineno-18-55"></a>                <span class="nx">id</span><span class="o">:</span> <span class="nx">todo</span><span class="p">.</span><span class="nx">id</span>
<a id="__codelineno-18-56" name="__codelineno-18-56"></a>              <span class="p">}</span>
<a id="__codelineno-18-57" name="__codelineno-18-57"></a>            <span class="p">}</span>
<a id="__codelineno-18-58" name="__codelineno-18-58"></a>          <span class="p">})</span>
<a id="__codelineno-18-59" name="__codelineno-18-59"></a>        <span class="p">}}</span><span class="o">&gt;</span><span class="nx">Delete</span><span class="o">&lt;</span><span class="err">/Button&gt;</span>
<a id="__codelineno-18-60" name="__codelineno-18-60"></a>      <span class="o">&lt;</span><span class="err">/Flex&gt;)}</span>
<a id="__codelineno-18-61" name="__codelineno-18-61"></a>    <span class="o">&lt;</span><span class="err">/Flex&gt;</span>
<a id="__codelineno-18-62" name="__codelineno-18-62"></a>  <span class="p">);</span>
<a id="__codelineno-18-63" name="__codelineno-18-63"></a><span class="p">}</span>
<a id="__codelineno-18-64" name="__codelineno-18-64"></a>
<a id="__codelineno-18-65" name="__codelineno-18-65"></a><span class="k">export</span> <span class="k">default</span> <span class="nx">withAuthenticator</span><span class="p">(</span><span class="nx">App</span><span class="p">);</span>
</code></pre></div>
<h2 id="fetch-real-time-updates-for-records-todos-with-graphql">Fetch real-time updates for records (todos) with GraphQL</h2>
<p>GraphQL provides a mechanism called subscriptions to stream in real-time updates.
Amplify automatically creates subscriptions for record creation, updates, and deletions.
In your app code, you can then apply those updates to your existing/fetched data.</p>
<p>Lets import the subscription statements for your GraphQL API into App.js:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a><span class="k">import</span> <span class="p">{</span> <span class="nx">onCreateShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">,</span> <span class="nx">onUpdateShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">,</span> <span class="nx">onDeleteShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./graphql/subscriptions&#39;</span><span class="p">;</span>
</code></pre></div>
<p>Next, we need to subscribe to those events and then apply the event inputs onto the fetched todos.
Well need to handle each case: create, update, and delete separately because they have different implications for the fetched todos.</p>
<p><a href="https://docs.amplify.aws/react/build-a-backend/graphqlapi/subscribe-data/">Subscribe to real-time events</a></p>
<p>Lets add all the subscription logic to your useEffect hook below your fetchTodos() function call:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a>  <span class="nx">useEffect</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-20-2" name="__codelineno-20-2"></a>    <span class="kd">const</span> <span class="nx">fetchTodos</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-20-3" name="__codelineno-20-3"></a>      <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">graphql</span><span class="p">({</span><span class="nx">query</span><span class="o">:</span> <span class="nx">listShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Dos</span><span class="p">});</span>
<a id="__codelineno-20-4" name="__codelineno-20-4"></a>      <span class="c1">// console.log(result);</span>
<a id="__codelineno-20-5" name="__codelineno-20-5"></a>      <span class="nx">setTodos</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">listShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Dos</span><span class="p">.</span><span class="nx">items</span><span class="p">);</span>
<a id="__codelineno-20-6" name="__codelineno-20-6"></a>    <span class="p">}</span>
<a id="__codelineno-20-7" name="__codelineno-20-7"></a>
<a id="__codelineno-20-8" name="__codelineno-20-8"></a>    <span class="nx">fetchTodos</span><span class="p">();</span>
<a id="__codelineno-20-9" name="__codelineno-20-9"></a>
<a id="__codelineno-20-10" name="__codelineno-20-10"></a>    <span class="c1">// Subscriptions</span>
<a id="__codelineno-20-11" name="__codelineno-20-11"></a>
<a id="__codelineno-20-12" name="__codelineno-20-12"></a>    <span class="c1">// Subscribe to creation of Todo</span>
<a id="__codelineno-20-13" name="__codelineno-20-13"></a>    <span class="kd">const</span> <span class="nx">createSub</span> <span class="o">=</span> <span class="nx">client</span>
<a id="__codelineno-20-14" name="__codelineno-20-14"></a>      <span class="p">.</span><span class="nx">graphql</span><span class="p">({</span><span class="nx">query</span><span class="o">:</span> <span class="nx">onCreateShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">})</span>
<a id="__codelineno-20-15" name="__codelineno-20-15"></a>      <span class="p">.</span><span class="nx">subscribe</span><span class="p">({</span>
<a id="__codelineno-20-16" name="__codelineno-20-16"></a>        <span class="c1">// next: ({ data }) =&gt; console.log(data),</span>
<a id="__codelineno-20-17" name="__codelineno-20-17"></a>        <span class="nx">next</span><span class="o">:</span> <span class="p">({</span><span class="nx">data</span><span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-20-18" name="__codelineno-20-18"></a>          <span class="nx">setTodos</span><span class="p">((</span><span class="nx">todos</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">[...</span><span class="nx">todos</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">onCreateShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">]);</span>
<a id="__codelineno-20-19" name="__codelineno-20-19"></a>        <span class="p">},</span>
<a id="__codelineno-20-20" name="__codelineno-20-20"></a>        <span class="nx">error</span><span class="o">:</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span>
<a id="__codelineno-20-21" name="__codelineno-20-21"></a>      <span class="p">});</span>
<a id="__codelineno-20-22" name="__codelineno-20-22"></a>
<a id="__codelineno-20-23" name="__codelineno-20-23"></a>    <span class="c1">// Subscribe to update of Todo</span>
<a id="__codelineno-20-24" name="__codelineno-20-24"></a>    <span class="kd">const</span> <span class="nx">updateSub</span> <span class="o">=</span> <span class="nx">client</span>
<a id="__codelineno-20-25" name="__codelineno-20-25"></a>      <span class="p">.</span><span class="nx">graphql</span><span class="p">({</span><span class="nx">query</span><span class="o">:</span> <span class="nx">onUpdateShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">})</span>
<a id="__codelineno-20-26" name="__codelineno-20-26"></a>      <span class="p">.</span><span class="nx">subscribe</span><span class="p">({</span>
<a id="__codelineno-20-27" name="__codelineno-20-27"></a>        <span class="c1">// next: ({ data }) =&gt; console.log(data),</span>
<a id="__codelineno-20-28" name="__codelineno-20-28"></a>        <span class="nx">next</span><span class="o">:</span> <span class="p">({</span><span class="nx">data</span><span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-20-29" name="__codelineno-20-29"></a>          <span class="nx">setTodos</span><span class="p">(</span><span class="nx">todos</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-20-30" name="__codelineno-20-30"></a>            <span class="kd">const</span> <span class="nx">toUpdateIndex</span> <span class="o">=</span> <span class="nx">todos</span><span class="p">.</span><span class="nx">findIndex</span><span class="p">(</span><span class="nx">item</span> <span class="p">=&gt;</span> <span class="nx">item</span><span class="p">.</span><span class="nx">id</span> <span class="o">===</span> <span class="nx">data</span><span class="p">.</span><span class="nx">onUpdateShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
<a id="__codelineno-20-31" name="__codelineno-20-31"></a>            <span class="k">if</span> <span class="p">(</span><span class="nx">toUpdateIndex</span> <span class="o">===</span> <span class="o">-</span><span class="mf">1</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// If the todo doesn&#39;t exist, treat it like an &quot;add&quot;</span>
<a id="__codelineno-20-32" name="__codelineno-20-32"></a>              <span class="k">return</span> <span class="p">[...</span><span class="nx">todos</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">onUpdateShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">];</span>
<a id="__codelineno-20-33" name="__codelineno-20-33"></a>            <span class="p">}</span>
<a id="__codelineno-20-34" name="__codelineno-20-34"></a>            <span class="k">return</span> <span class="p">[...</span><span class="nx">todos</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="nx">toUpdateIndex</span><span class="p">),</span> <span class="nx">data</span><span class="p">.</span><span class="nx">onUpdateShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">,</span> <span class="p">...</span><span class="nx">todos</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">toUpdateIndex</span> <span class="o">+</span> <span class="mf">1</span><span class="p">)];</span>
<a id="__codelineno-20-35" name="__codelineno-20-35"></a>          <span class="p">})</span>
<a id="__codelineno-20-36" name="__codelineno-20-36"></a>        <span class="p">},</span>
<a id="__codelineno-20-37" name="__codelineno-20-37"></a>        <span class="nx">error</span><span class="o">:</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span>
<a id="__codelineno-20-38" name="__codelineno-20-38"></a>      <span class="p">});</span>
<a id="__codelineno-20-39" name="__codelineno-20-39"></a>
<a id="__codelineno-20-40" name="__codelineno-20-40"></a>    <span class="c1">// Subscribe to deletion of Todo</span>
<a id="__codelineno-20-41" name="__codelineno-20-41"></a>    <span class="kd">const</span> <span class="nx">deleteSub</span> <span class="o">=</span> <span class="nx">client</span>
<a id="__codelineno-20-42" name="__codelineno-20-42"></a>      <span class="p">.</span><span class="nx">graphql</span><span class="p">({</span><span class="nx">query</span><span class="o">:</span> <span class="nx">onDeleteShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">})</span>
<a id="__codelineno-20-43" name="__codelineno-20-43"></a>      <span class="p">.</span><span class="nx">subscribe</span><span class="p">({</span>
<a id="__codelineno-20-44" name="__codelineno-20-44"></a>        <span class="c1">// next: ({ data }) =&gt; console.log(data),</span>
<a id="__codelineno-20-45" name="__codelineno-20-45"></a>        <span class="nx">next</span><span class="o">:</span> <span class="p">({</span><span class="nx">data</span><span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-20-46" name="__codelineno-20-46"></a>          <span class="nx">setTodos</span><span class="p">(</span><span class="nx">todos</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-20-47" name="__codelineno-20-47"></a>            <span class="kd">const</span> <span class="nx">toDeleteIndex</span> <span class="o">=</span> <span class="nx">todos</span><span class="p">.</span><span class="nx">findIndex</span><span class="p">(</span><span class="nx">item</span> <span class="p">=&gt;</span> <span class="nx">item</span><span class="p">.</span><span class="nx">id</span> <span class="o">===</span> <span class="nx">data</span><span class="p">.</span><span class="nx">onDeleteShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
<a id="__codelineno-20-48" name="__codelineno-20-48"></a>            <span class="k">return</span> <span class="p">[...</span><span class="nx">todos</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="nx">toDeleteIndex</span><span class="p">),</span> <span class="p">...</span><span class="nx">todos</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">toDeleteIndex</span> <span class="o">+</span> <span class="mf">1</span><span class="p">)];</span>
<a id="__codelineno-20-49" name="__codelineno-20-49"></a>          <span class="p">})</span>
<a id="__codelineno-20-50" name="__codelineno-20-50"></a>        <span class="p">},</span>
<a id="__codelineno-20-51" name="__codelineno-20-51"></a>        <span class="nx">error</span><span class="o">:</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span>
<a id="__codelineno-20-52" name="__codelineno-20-52"></a>      <span class="p">});</span>
<a id="__codelineno-20-53" name="__codelineno-20-53"></a>
<a id="__codelineno-20-54" name="__codelineno-20-54"></a>    <span class="k">return</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-20-55" name="__codelineno-20-55"></a>      <span class="nx">createSub</span><span class="p">.</span><span class="nx">unsubscribe</span><span class="p">();</span>
<a id="__codelineno-20-56" name="__codelineno-20-56"></a>      <span class="nx">updateSub</span><span class="p">.</span><span class="nx">unsubscribe</span><span class="p">();</span>
<a id="__codelineno-20-57" name="__codelineno-20-57"></a>      <span class="nx">deleteSub</span><span class="p">.</span><span class="nx">unsubscribe</span><span class="p">();</span>
<a id="__codelineno-20-58" name="__codelineno-20-58"></a>    <span class="p">}</span>
<a id="__codelineno-20-59" name="__codelineno-20-59"></a>  <span class="p">},</span> <span class="p">[])</span>
</code></pre></div>
<p>Make sure to return the unsubscribe() calls in the useEffect hook to clean-up the GraphQL subscriptions.</p>
<p>Important: When setting a React state from within a subscription make sure to use the function pattern of setState, where you can fetch the previous state.
setState((prevState) =&gt; newState) The subscription is set up in an useEffect hook, if you just reference todos without this function-based pattern, todos would always return an empty array.</p>
<p>Now, lets try out your app locally. Every time you create or delete a todo, the changes are reflected in real-time.</p>
<h2 id="fetch-users-from-user-detail-table">Fetch users from User Detail table</h2>
<p>In App.js to fetch users, add code below on top of App function to firstly test log (uncomment console.log only to debug) fetch users from User Detail table:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="p">...</span>
<a id="__codelineno-21-2" name="__codelineno-21-2"></a><span class="kd">function</span> <span class="nx">App</span><span class="p">({</span><span class="nx">user</span><span class="p">,</span> <span class="nx">signOut</span><span class="p">})</span> <span class="p">{</span>
<a id="__codelineno-21-3" name="__codelineno-21-3"></a><span class="p">..</span>
<a id="__codelineno-21-4" name="__codelineno-21-4"></a>
<a id="__codelineno-21-5" name="__codelineno-21-5"></a>  <span class="kd">const</span> <span class="p">[</span><span class="nx">users</span><span class="p">,</span> <span class="nx">setUsers</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">([]);</span>
<a id="__codelineno-21-6" name="__codelineno-21-6"></a>
<a id="__codelineno-21-7" name="__codelineno-21-7"></a>  <span class="nx">useEffect</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-21-8" name="__codelineno-21-8"></a>    <span class="kd">const</span> <span class="nx">fetchUsers</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-21-9" name="__codelineno-21-9"></a>      <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">graphql</span><span class="p">({</span><span class="nx">query</span><span class="o">:</span> <span class="nx">listShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynUser</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Details</span><span class="p">});</span>
<a id="__codelineno-21-10" name="__codelineno-21-10"></a>      <span class="c1">// console.log(result);</span>
<a id="__codelineno-21-11" name="__codelineno-21-11"></a>      <span class="nx">setUsers</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">listShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynUser</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Details</span><span class="p">.</span><span class="nx">items</span><span class="p">);</span>
<a id="__codelineno-21-12" name="__codelineno-21-12"></a>    <span class="p">}</span>
<a id="__codelineno-21-13" name="__codelineno-21-13"></a>
<a id="__codelineno-21-14" name="__codelineno-21-14"></a>    <span class="nx">fetchUsers</span><span class="p">();</span>
<a id="__codelineno-21-15" name="__codelineno-21-15"></a>  <span class="p">},</span> <span class="p">[]);</span>
<a id="__codelineno-21-16" name="__codelineno-21-16"></a>
<a id="__codelineno-21-17" name="__codelineno-21-17"></a>  <span class="p">..</span>
<a id="__codelineno-21-18" name="__codelineno-21-18"></a><span class="p">}</span>
<a id="__codelineno-21-19" name="__codelineno-21-19"></a><span class="p">..</span>
</code></pre></div>
<h2 id="make-data-records-todos-shareable-with-graphql">Make data records (todos) shareable with GraphQL</h2>
<p>Lets make the to-dos shareable! Remember the owners fields that we set up for the Todo model in the GraphQL schema?
Well we can append that with any users username to make them owners of a record as well!</p>
<p>Lets import the updateTodo mutation into App.js:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a><span class="p">..</span>
<a id="__codelineno-22-2" name="__codelineno-22-2"></a><span class="k">import</span> <span class="p">{</span><span class="nx">createShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">,</span> <span class="nx">deleteShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">,</span> <span class="nx">updateShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./graphql/mutations&#39;</span><span class="p">;</span>
<a id="__codelineno-22-3" name="__codelineno-22-3"></a><span class="p">..</span>
</code></pre></div>
<p>Now, lets add a button (right before the delete button) to share the todo with other users:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="o">&lt;</span><span class="nx">Button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">async</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-23-2" name="__codelineno-23-2"></a>  <span class="nx">client</span><span class="p">.</span><span class="nx">graphql</span><span class="p">({</span>
<a id="__codelineno-23-3" name="__codelineno-23-3"></a>    <span class="nx">query</span><span class="o">:</span> <span class="nx">updateShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">,</span>
<a id="__codelineno-23-4" name="__codelineno-23-4"></a>    <span class="nx">variables</span><span class="o">:</span> <span class="p">{</span>
<a id="__codelineno-23-5" name="__codelineno-23-5"></a>      <span class="nx">input</span><span class="o">:</span> <span class="p">{</span>
<a id="__codelineno-23-6" name="__codelineno-23-6"></a>        <span class="nx">id</span><span class="o">:</span> <span class="nx">todo</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span>
<a id="__codelineno-23-7" name="__codelineno-23-7"></a>        <span class="nx">owners</span><span class="o">:</span> <span class="p">[...</span><span class="nx">todo</span><span class="p">.</span><span class="nx">owners</span><span class="p">,</span> <span class="nb">window</span><span class="p">.</span><span class="nx">prompt</span><span class="p">(</span><span class="s1">&#39;Share with whom?&#39;</span><span class="p">)]</span>
<a id="__codelineno-23-8" name="__codelineno-23-8"></a>      <span class="p">}</span>
<a id="__codelineno-23-9" name="__codelineno-23-9"></a>    <span class="p">}</span>
<a id="__codelineno-23-10" name="__codelineno-23-10"></a>  <span class="p">});</span>
<a id="__codelineno-23-11" name="__codelineno-23-11"></a><span class="p">}}</span><span class="o">&gt;</span><span class="nx">Share</span> <span class="err"></span><span class="o">&lt;</span><span class="err">/Button&gt;</span>
</code></pre></div>
<p>Thats it! Lets try it now! Open two browser tabs (one in incognito) and login with two separate user accounts.
Then create a new todo and share it with the other user by just typing their username after clicking on the Share button.</p>
<h2 id="appjs-end-to-end-reference">App.js end-to-end reference</h2>
<p>Your App.js file should look something like the below in case you need an end-to-end reference:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1"></a><span class="k">import</span> <span class="s1">&#39;./App.css&#39;</span><span class="p">;</span>
<a id="__codelineno-24-2" name="__codelineno-24-2"></a>
<a id="__codelineno-24-3" name="__codelineno-24-3"></a><span class="k">import</span> <span class="p">{</span><span class="nx">Amplify</span><span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;aws-amplify&#39;</span><span class="p">;</span>
<a id="__codelineno-24-4" name="__codelineno-24-4"></a><span class="k">import</span> <span class="p">{</span><span class="nx">generateClient</span><span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;aws-amplify/api&#39;</span><span class="p">;</span>
<a id="__codelineno-24-5" name="__codelineno-24-5"></a><span class="k">import</span> <span class="p">{</span><span class="nx">createShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">,</span> <span class="nx">deleteShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">,</span> <span class="nx">updateShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./graphql/mutations&#39;</span><span class="p">;</span>
<a id="__codelineno-24-6" name="__codelineno-24-6"></a><span class="k">import</span> <span class="p">{</span><span class="nx">listShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Dos</span><span class="p">,</span> <span class="nx">listShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynUser</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Details</span><span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./graphql/queries&#39;</span><span class="p">;</span>
<a id="__codelineno-24-7" name="__codelineno-24-7"></a><span class="k">import</span> <span class="p">{</span>
<a id="__codelineno-24-8" name="__codelineno-24-8"></a>  <span class="nx">onCreateShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">,</span>
<a id="__codelineno-24-9" name="__codelineno-24-9"></a>  <span class="nx">onUpdateShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">,</span>
<a id="__codelineno-24-10" name="__codelineno-24-10"></a>  <span class="nx">onDeleteShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span>
<a id="__codelineno-24-11" name="__codelineno-24-11"></a><span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./graphql/subscriptions&#39;</span><span class="p">;</span>
<a id="__codelineno-24-12" name="__codelineno-24-12"></a><span class="k">import</span> <span class="p">{</span><span class="nx">useState</span><span class="p">,</span> <span class="nx">useEffect</span><span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<a id="__codelineno-24-13" name="__codelineno-24-13"></a><span class="k">import</span> <span class="nx">config</span> <span class="kr">from</span> <span class="s1">&#39;./amplifyconfiguration.json&#39;</span><span class="p">;</span>
<a id="__codelineno-24-14" name="__codelineno-24-14"></a>
<a id="__codelineno-24-15" name="__codelineno-24-15"></a><span class="k">import</span> <span class="s2">&quot;@aws-amplify/ui-react/styles.css&quot;</span><span class="p">;</span>
<a id="__codelineno-24-16" name="__codelineno-24-16"></a><span class="k">import</span> <span class="p">{</span><span class="nx">withAuthenticator</span><span class="p">,</span> <span class="nx">Text</span><span class="p">,</span> <span class="nx">Flex</span><span class="p">,</span> <span class="nx">View</span><span class="p">,</span> <span class="nx">Badge</span><span class="p">,</span> <span class="nx">Button</span><span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@aws-amplify/ui-react&#39;</span><span class="p">;</span>
<a id="__codelineno-24-17" name="__codelineno-24-17"></a>
<a id="__codelineno-24-18" name="__codelineno-24-18"></a><span class="nx">Amplify</span><span class="p">.</span><span class="nx">configure</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>
<a id="__codelineno-24-19" name="__codelineno-24-19"></a>
<a id="__codelineno-24-20" name="__codelineno-24-20"></a><span class="kd">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">generateClient</span><span class="p">();</span>
<a id="__codelineno-24-21" name="__codelineno-24-21"></a>
<a id="__codelineno-24-22" name="__codelineno-24-22"></a><span class="kd">function</span> <span class="nx">App</span><span class="p">({</span><span class="nx">user</span><span class="p">,</span> <span class="nx">signOut</span><span class="p">})</span> <span class="p">{</span>
<a id="__codelineno-24-23" name="__codelineno-24-23"></a>  <span class="c1">// console.log(user);</span>
<a id="__codelineno-24-24" name="__codelineno-24-24"></a>
<a id="__codelineno-24-25" name="__codelineno-24-25"></a>  <span class="kd">const</span> <span class="p">[</span><span class="nx">todos</span><span class="p">,</span> <span class="nx">setTodos</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">([]);</span>
<a id="__codelineno-24-26" name="__codelineno-24-26"></a>  <span class="kd">const</span> <span class="p">[</span><span class="nx">users</span><span class="p">,</span> <span class="nx">setUsers</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">([]);</span>
<a id="__codelineno-24-27" name="__codelineno-24-27"></a>
<a id="__codelineno-24-28" name="__codelineno-24-28"></a>  <span class="nx">useEffect</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-24-29" name="__codelineno-24-29"></a>    <span class="kd">const</span> <span class="nx">fetchUsers</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-24-30" name="__codelineno-24-30"></a>      <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">graphql</span><span class="p">({</span><span class="nx">query</span><span class="o">:</span> <span class="nx">listShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynUser</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Details</span><span class="p">});</span>
<a id="__codelineno-24-31" name="__codelineno-24-31"></a>      <span class="c1">// console.log(result);</span>
<a id="__codelineno-24-32" name="__codelineno-24-32"></a>      <span class="nx">setUsers</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">listShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynUser</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Details</span><span class="p">.</span><span class="nx">items</span><span class="p">);</span>
<a id="__codelineno-24-33" name="__codelineno-24-33"></a>    <span class="p">}</span>
<a id="__codelineno-24-34" name="__codelineno-24-34"></a>
<a id="__codelineno-24-35" name="__codelineno-24-35"></a>    <span class="nx">fetchUsers</span><span class="p">();</span>
<a id="__codelineno-24-36" name="__codelineno-24-36"></a>  <span class="p">},</span> <span class="p">[]);</span>
<a id="__codelineno-24-37" name="__codelineno-24-37"></a>
<a id="__codelineno-24-38" name="__codelineno-24-38"></a>  <span class="nx">useEffect</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-24-39" name="__codelineno-24-39"></a>    <span class="kd">const</span> <span class="nx">fetchTodos</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-24-40" name="__codelineno-24-40"></a>      <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">graphql</span><span class="p">({</span><span class="nx">query</span><span class="o">:</span> <span class="nx">listShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Dos</span><span class="p">});</span>
<a id="__codelineno-24-41" name="__codelineno-24-41"></a>      <span class="c1">// console.log(result);</span>
<a id="__codelineno-24-42" name="__codelineno-24-42"></a>      <span class="nx">setTodos</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">listShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Dos</span><span class="p">.</span><span class="nx">items</span><span class="p">);</span>
<a id="__codelineno-24-43" name="__codelineno-24-43"></a>    <span class="p">}</span>
<a id="__codelineno-24-44" name="__codelineno-24-44"></a>
<a id="__codelineno-24-45" name="__codelineno-24-45"></a>    <span class="nx">fetchTodos</span><span class="p">();</span>
<a id="__codelineno-24-46" name="__codelineno-24-46"></a>
<a id="__codelineno-24-47" name="__codelineno-24-47"></a>    <span class="c1">// Subscriptions</span>
<a id="__codelineno-24-48" name="__codelineno-24-48"></a>
<a id="__codelineno-24-49" name="__codelineno-24-49"></a>    <span class="c1">// Subscribe to creation of Todo</span>
<a id="__codelineno-24-50" name="__codelineno-24-50"></a>    <span class="kd">const</span> <span class="nx">createSub</span> <span class="o">=</span> <span class="nx">client</span>
<a id="__codelineno-24-51" name="__codelineno-24-51"></a>      <span class="p">.</span><span class="nx">graphql</span><span class="p">({</span><span class="nx">query</span><span class="o">:</span> <span class="nx">onCreateShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">})</span>
<a id="__codelineno-24-52" name="__codelineno-24-52"></a>      <span class="p">.</span><span class="nx">subscribe</span><span class="p">({</span>
<a id="__codelineno-24-53" name="__codelineno-24-53"></a>        <span class="c1">// next: ({ data }) =&gt; console.log(data),</span>
<a id="__codelineno-24-54" name="__codelineno-24-54"></a>        <span class="nx">next</span><span class="o">:</span> <span class="p">({</span><span class="nx">data</span><span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-24-55" name="__codelineno-24-55"></a>          <span class="nx">setTodos</span><span class="p">((</span><span class="nx">todos</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">[...</span><span class="nx">todos</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">onCreateShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">]);</span>
<a id="__codelineno-24-56" name="__codelineno-24-56"></a>        <span class="p">},</span>
<a id="__codelineno-24-57" name="__codelineno-24-57"></a>        <span class="nx">error</span><span class="o">:</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span>
<a id="__codelineno-24-58" name="__codelineno-24-58"></a>      <span class="p">});</span>
<a id="__codelineno-24-59" name="__codelineno-24-59"></a>
<a id="__codelineno-24-60" name="__codelineno-24-60"></a>    <span class="c1">// Subscribe to update of Todo</span>
<a id="__codelineno-24-61" name="__codelineno-24-61"></a>    <span class="kd">const</span> <span class="nx">updateSub</span> <span class="o">=</span> <span class="nx">client</span>
<a id="__codelineno-24-62" name="__codelineno-24-62"></a>      <span class="p">.</span><span class="nx">graphql</span><span class="p">({</span><span class="nx">query</span><span class="o">:</span> <span class="nx">onUpdateShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">})</span>
<a id="__codelineno-24-63" name="__codelineno-24-63"></a>      <span class="p">.</span><span class="nx">subscribe</span><span class="p">({</span>
<a id="__codelineno-24-64" name="__codelineno-24-64"></a>        <span class="c1">// next: ({ data }) =&gt; console.log(data),</span>
<a id="__codelineno-24-65" name="__codelineno-24-65"></a>        <span class="nx">next</span><span class="o">:</span> <span class="p">({</span><span class="nx">data</span><span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-24-66" name="__codelineno-24-66"></a>          <span class="nx">setTodos</span><span class="p">(</span><span class="nx">todos</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-24-67" name="__codelineno-24-67"></a>            <span class="kd">const</span> <span class="nx">toUpdateIndex</span> <span class="o">=</span> <span class="nx">todos</span><span class="p">.</span><span class="nx">findIndex</span><span class="p">(</span><span class="nx">item</span> <span class="p">=&gt;</span> <span class="nx">item</span><span class="p">.</span><span class="nx">id</span> <span class="o">===</span> <span class="nx">data</span><span class="p">.</span><span class="nx">onUpdateShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
<a id="__codelineno-24-68" name="__codelineno-24-68"></a>            <span class="k">if</span> <span class="p">(</span><span class="nx">toUpdateIndex</span> <span class="o">===</span> <span class="o">-</span><span class="mf">1</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// If the todo doesn&#39;t exist, treat it like an &quot;add&quot;</span>
<a id="__codelineno-24-69" name="__codelineno-24-69"></a>              <span class="k">return</span> <span class="p">[...</span><span class="nx">todos</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">onUpdateShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">];</span>
<a id="__codelineno-24-70" name="__codelineno-24-70"></a>            <span class="p">}</span>
<a id="__codelineno-24-71" name="__codelineno-24-71"></a>            <span class="k">return</span> <span class="p">[...</span><span class="nx">todos</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="nx">toUpdateIndex</span><span class="p">),</span> <span class="nx">data</span><span class="p">.</span><span class="nx">onUpdateShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">,</span> <span class="p">...</span><span class="nx">todos</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">toUpdateIndex</span> <span class="o">+</span> <span class="mf">1</span><span class="p">)];</span>
<a id="__codelineno-24-72" name="__codelineno-24-72"></a>          <span class="p">})</span>
<a id="__codelineno-24-73" name="__codelineno-24-73"></a>        <span class="p">},</span>
<a id="__codelineno-24-74" name="__codelineno-24-74"></a>        <span class="nx">error</span><span class="o">:</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span>
<a id="__codelineno-24-75" name="__codelineno-24-75"></a>      <span class="p">});</span>
<a id="__codelineno-24-76" name="__codelineno-24-76"></a>
<a id="__codelineno-24-77" name="__codelineno-24-77"></a>    <span class="c1">// Subscribe to deletion of Todo</span>
<a id="__codelineno-24-78" name="__codelineno-24-78"></a>    <span class="kd">const</span> <span class="nx">deleteSub</span> <span class="o">=</span> <span class="nx">client</span>
<a id="__codelineno-24-79" name="__codelineno-24-79"></a>      <span class="p">.</span><span class="nx">graphql</span><span class="p">({</span><span class="nx">query</span><span class="o">:</span> <span class="nx">onDeleteShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">})</span>
<a id="__codelineno-24-80" name="__codelineno-24-80"></a>      <span class="p">.</span><span class="nx">subscribe</span><span class="p">({</span>
<a id="__codelineno-24-81" name="__codelineno-24-81"></a>        <span class="c1">// next: ({ data }) =&gt; console.log(data),</span>
<a id="__codelineno-24-82" name="__codelineno-24-82"></a>        <span class="nx">next</span><span class="o">:</span> <span class="p">({</span><span class="nx">data</span><span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-24-83" name="__codelineno-24-83"></a>          <span class="nx">setTodos</span><span class="p">(</span><span class="nx">todos</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-24-84" name="__codelineno-24-84"></a>            <span class="kd">const</span> <span class="nx">toDeleteIndex</span> <span class="o">=</span> <span class="nx">todos</span><span class="p">.</span><span class="nx">findIndex</span><span class="p">(</span><span class="nx">item</span> <span class="p">=&gt;</span> <span class="nx">item</span><span class="p">.</span><span class="nx">id</span> <span class="o">===</span> <span class="nx">data</span><span class="p">.</span><span class="nx">onDeleteShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
<a id="__codelineno-24-85" name="__codelineno-24-85"></a>            <span class="k">return</span> <span class="p">[...</span><span class="nx">todos</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="nx">toDeleteIndex</span><span class="p">),</span> <span class="p">...</span><span class="nx">todos</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">toDeleteIndex</span> <span class="o">+</span> <span class="mf">1</span><span class="p">)];</span>
<a id="__codelineno-24-86" name="__codelineno-24-86"></a>          <span class="p">})</span>
<a id="__codelineno-24-87" name="__codelineno-24-87"></a>        <span class="p">},</span>
<a id="__codelineno-24-88" name="__codelineno-24-88"></a>        <span class="nx">error</span><span class="o">:</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span>
<a id="__codelineno-24-89" name="__codelineno-24-89"></a>      <span class="p">});</span>
<a id="__codelineno-24-90" name="__codelineno-24-90"></a>
<a id="__codelineno-24-91" name="__codelineno-24-91"></a>    <span class="k">return</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-24-92" name="__codelineno-24-92"></a>      <span class="nx">createSub</span><span class="p">.</span><span class="nx">unsubscribe</span><span class="p">();</span>
<a id="__codelineno-24-93" name="__codelineno-24-93"></a>      <span class="nx">updateSub</span><span class="p">.</span><span class="nx">unsubscribe</span><span class="p">();</span>
<a id="__codelineno-24-94" name="__codelineno-24-94"></a>      <span class="nx">deleteSub</span><span class="p">.</span><span class="nx">unsubscribe</span><span class="p">();</span>
<a id="__codelineno-24-95" name="__codelineno-24-95"></a>    <span class="p">}</span>
<a id="__codelineno-24-96" name="__codelineno-24-96"></a>  <span class="p">},</span> <span class="p">[]);</span>
<a id="__codelineno-24-97" name="__codelineno-24-97"></a>
<a id="__codelineno-24-98" name="__codelineno-24-98"></a>  <span class="k">return</span> <span class="p">(</span>
<a id="__codelineno-24-99" name="__codelineno-24-99"></a>    <span class="o">&lt;</span><span class="nx">Flex</span> <span class="nx">direction</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;column&quot;</span><span class="p">}</span> <span class="nx">padding</span><span class="o">=</span><span class="p">{</span><span class="mf">8</span><span class="p">}</span><span class="o">&gt;</span>
<a id="__codelineno-24-100" name="__codelineno-24-100"></a>      <span class="o">&lt;</span><span class="nx">Text</span><span class="o">&gt;</span><span class="nx">Logged</span> <span class="ow">in</span> <span class="kr">as</span> <span class="o">&lt;</span><span class="nx">b</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">user</span><span class="p">.</span><span class="nx">signInDetails</span><span class="p">.</span><span class="nx">loginId</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/b&gt; &lt;Button variation=&#39;link&#39; onClick={signOut}&gt;Sign</span>
<a id="__codelineno-24-101" name="__codelineno-24-101"></a>        <span class="nx">out</span><span class="o">&lt;</span><span class="err">/Button&gt;&lt;/Text&gt;</span>
<a id="__codelineno-24-102" name="__codelineno-24-102"></a>      <span class="o">&lt;</span><span class="nx">Button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-24-103" name="__codelineno-24-103"></a>        <span class="nx">client</span><span class="p">.</span><span class="nx">graphql</span><span class="p">({</span>
<a id="__codelineno-24-104" name="__codelineno-24-104"></a>          <span class="nx">query</span><span class="o">:</span> <span class="nx">createShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">,</span>
<a id="__codelineno-24-105" name="__codelineno-24-105"></a>          <span class="nx">variables</span><span class="o">:</span> <span class="p">{</span>
<a id="__codelineno-24-106" name="__codelineno-24-106"></a>            <span class="nx">input</span><span class="o">:</span> <span class="p">{</span>
<a id="__codelineno-24-107" name="__codelineno-24-107"></a>              <span class="nx">content</span><span class="o">:</span> <span class="nb">window</span><span class="p">.</span><span class="nx">prompt</span><span class="p">(</span><span class="s1">&#39;content?&#39;</span><span class="p">),</span>
<a id="__codelineno-24-108" name="__codelineno-24-108"></a>            <span class="p">}</span>
<a id="__codelineno-24-109" name="__codelineno-24-109"></a>          <span class="p">}</span>
<a id="__codelineno-24-110" name="__codelineno-24-110"></a>        <span class="p">});</span>
<a id="__codelineno-24-111" name="__codelineno-24-111"></a>      <span class="p">}}</span><span class="o">&gt;</span><span class="nx">Add</span> <span class="nx">todo</span>
<a id="__codelineno-24-112" name="__codelineno-24-112"></a>      <span class="o">&lt;</span><span class="err">/Button&gt;</span>
<a id="__codelineno-24-113" name="__codelineno-24-113"></a>      <span class="p">{</span><span class="nx">todos</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">todo</span> <span class="p">=&gt;</span> <span class="o">&lt;</span><span class="nx">Flex</span> <span class="nx">direction</span><span class="o">=</span><span class="s2">&quot;column&quot;</span> <span class="nx">border</span><span class="o">=</span><span class="s2">&quot;1px solid black&quot;</span> <span class="nx">padding</span><span class="o">=</span><span class="p">{</span><span class="mf">8</span><span class="p">}</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">todo</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="o">&gt;</span>
<a id="__codelineno-24-114" name="__codelineno-24-114"></a>        <span class="o">&lt;</span><span class="nx">Text</span> <span class="nx">fontWeight</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;bold&#39;</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">todo</span><span class="p">.</span><span class="nx">content</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/Text&gt;</span>
<a id="__codelineno-24-115" name="__codelineno-24-115"></a>        <span class="o">&lt;</span><span class="nx">View</span><span class="o">&gt;</span><span class="err"></span> <span class="p">{</span><span class="nx">todo</span><span class="p">.</span><span class="nx">owners</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">owner</span> <span class="p">=&gt;</span> <span class="o">&lt;</span><span class="nx">Badge</span> <span class="nx">margin</span><span class="o">=</span><span class="p">{</span><span class="mf">4</span><span class="p">}</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">owner</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">owner</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/Badge&gt;)}&lt;/View&gt;</span>
<a id="__codelineno-24-116" name="__codelineno-24-116"></a>        <span class="o">&lt;</span><span class="nx">Button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">async</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-24-117" name="__codelineno-24-117"></a>          <span class="nx">client</span><span class="p">.</span><span class="nx">graphql</span><span class="p">({</span>
<a id="__codelineno-24-118" name="__codelineno-24-118"></a>            <span class="nx">query</span><span class="o">:</span> <span class="nx">updateShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">,</span>
<a id="__codelineno-24-119" name="__codelineno-24-119"></a>            <span class="nx">variables</span><span class="o">:</span> <span class="p">{</span>
<a id="__codelineno-24-120" name="__codelineno-24-120"></a>              <span class="nx">input</span><span class="o">:</span> <span class="p">{</span>
<a id="__codelineno-24-121" name="__codelineno-24-121"></a>                <span class="nx">id</span><span class="o">:</span> <span class="nx">todo</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span>
<a id="__codelineno-24-122" name="__codelineno-24-122"></a>                <span class="nx">owners</span><span class="o">:</span> <span class="p">[...</span><span class="nx">todo</span><span class="p">.</span><span class="nx">owners</span><span class="p">,</span> <span class="nb">window</span><span class="p">.</span><span class="nx">prompt</span><span class="p">(</span><span class="s1">&#39;Share with whom?&#39;</span><span class="p">)]</span>
<a id="__codelineno-24-123" name="__codelineno-24-123"></a>              <span class="p">}</span>
<a id="__codelineno-24-124" name="__codelineno-24-124"></a>            <span class="p">}</span>
<a id="__codelineno-24-125" name="__codelineno-24-125"></a>          <span class="p">});</span>
<a id="__codelineno-24-126" name="__codelineno-24-126"></a>        <span class="p">}}</span><span class="o">&gt;</span><span class="nx">Share</span> <span class="err"></span><span class="o">&lt;</span><span class="err">/Button&gt;</span>
<a id="__codelineno-24-127" name="__codelineno-24-127"></a>        <span class="o">&lt;</span><span class="nx">Button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">async</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-24-128" name="__codelineno-24-128"></a>          <span class="nx">client</span><span class="p">.</span><span class="nx">graphql</span><span class="p">({</span>
<a id="__codelineno-24-129" name="__codelineno-24-129"></a>            <span class="nx">query</span><span class="o">:</span> <span class="nx">deleteShare</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">DynTo</span><span class="o">&lt;</span><span class="err">###</span><span class="o">&gt;</span><span class="nx">Do</span><span class="p">,</span>
<a id="__codelineno-24-130" name="__codelineno-24-130"></a>            <span class="nx">variables</span><span class="o">:</span> <span class="p">{</span>
<a id="__codelineno-24-131" name="__codelineno-24-131"></a>              <span class="nx">input</span><span class="o">:</span> <span class="p">{</span>
<a id="__codelineno-24-132" name="__codelineno-24-132"></a>                <span class="nx">id</span><span class="o">:</span> <span class="nx">todo</span><span class="p">.</span><span class="nx">id</span>
<a id="__codelineno-24-133" name="__codelineno-24-133"></a>              <span class="p">}</span>
<a id="__codelineno-24-134" name="__codelineno-24-134"></a>            <span class="p">}</span>
<a id="__codelineno-24-135" name="__codelineno-24-135"></a>          <span class="p">})</span>
<a id="__codelineno-24-136" name="__codelineno-24-136"></a>        <span class="p">}}</span><span class="o">&gt;</span><span class="nx">Delete</span><span class="o">&lt;</span><span class="err">/Button&gt;</span>
<a id="__codelineno-24-137" name="__codelineno-24-137"></a>      <span class="o">&lt;</span><span class="err">/Flex&gt;)}</span>
<a id="__codelineno-24-138" name="__codelineno-24-138"></a>    <span class="o">&lt;</span><span class="err">/Flex&gt;</span>
<a id="__codelineno-24-139" name="__codelineno-24-139"></a>  <span class="p">);</span>
<a id="__codelineno-24-140" name="__codelineno-24-140"></a><span class="p">}</span>
<a id="__codelineno-24-141" name="__codelineno-24-141"></a>
<a id="__codelineno-24-142" name="__codelineno-24-142"></a><span class="k">export</span> <span class="k">default</span> <span class="nx">withAuthenticator</span><span class="p">(</span><span class="nx">App</span><span class="p">);</span>
</code></pre></div>
<p><a href="https://aws.amazon.com/fr/blogs/mobile/build-real-time-multi-user-experiences-using-graphql-on-aws-amplify/#:~:text=%F0%9F%A5%B3%20Success!%20Your%20app%20data%20is%20shareable%20and%20is%20real%2Dtime!"> Success! Your app data is shareable and is real-time!</a></p>
<hr />
<h2 id="todo">TODO</h2>
<ul>
<li>[X] dynapp with pre sign-up process  </li>
<li>[X] share-todo with front and realtime sharing mechanism  </li>
<li>[_] retrieve todo author username from User table with Cognito user id  </li>
<li>[_] share todo using username or uid (nano id of 6 characters)</li>
</ul>
<hr />
<h2 id="next-steps">NEXT STEPS</h2>
<ul>
<li>\&lt;Authenticator> .. \&lt;/Authenticator> <a href="https://stackoverflow.com/questions/70036160/amplifysignout-is-not-exported-from-aws-amplify-ui-react">SRC</a></li>
<li>\<AmplifySignOut \/> button <a href="https://www.youtube.com/watch?v=Sk9HMuAaTmQ">SRC</a></li>
<li>post confirmation mail with "uid" <a href="https://docs.aws.amazon.com/cognito/latest/developerguide/user-pool-lambda-post-confirmation.html">SRC</a></li>
</ul>
<hr />

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../../msc/sign-up-in-out/" class="md-footer__link md-footer__link--prev" aria-label="Previous: sign-up-in-out" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              sign-up-in-out
            </div>
          </div>
        </a>
      
      
        
        <a href="../../../graphql/msc/" class="md-footer__link md-footer__link--next" aria-label="Next: msc" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              msc
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["content.code.annotate"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../../assets/javascripts/workers/search.01824240.min.js"}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.e0abf5b0.min.js"></script>
      
    
  </body>
</html>